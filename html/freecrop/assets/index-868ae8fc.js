(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))r(h);new MutationObserver(h=>{for(const e of h)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function t(h){const e={};return h.integrity&&(e.integrity=h.integrity),h.referrerPolicy&&(e.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?e.credentials="include":h.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(h){if(h.ep)return;h.ep=!0;const e=t(h);fetch(h.href,e)}})();/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function Se(_,i){var t=Object.keys(_);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(_);i&&(r=r.filter(function(h){return Object.getOwnPropertyDescriptor(_,h).enumerable})),t.push.apply(t,r)}return t}function He(_){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?Se(Object(t),!0).forEach(function(r){ur(_,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(r){Object.defineProperty(_,r,Object.getOwnPropertyDescriptor(t,r))})}return _}function se(_){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},se(_)}function cr(_,i){if(!(_ instanceof i))throw new TypeError("Cannot call a class as a function")}function Ae(_,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(_,Ye(r.key),r)}}function lr(_,i,t){return i&&Ae(_.prototype,i),t&&Ae(_,t),Object.defineProperty(_,"prototype",{writable:!1}),_}function ur(_,i,t){return i=Ye(i),i in _?Object.defineProperty(_,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):_[i]=t,_}function Ze(_){return fr(_)||dr(_)||pr(_)||mr()}function fr(_){if(Array.isArray(_))return oe(_)}function dr(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}function pr(_,i){if(_){if(typeof _=="string")return oe(_,i);var t=Object.prototype.toString.call(_).slice(8,-1);if(t==="Object"&&_.constructor&&(t=_.constructor.name),t==="Map"||t==="Set")return Array.from(_);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oe(_,i)}}function oe(_,i){(i==null||i>_.length)&&(i=_.length);for(var t=0,r=new Array(i);t<i;t++)r[t]=_[t];return r}function mr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(_,i){if(typeof _!="object"||_===null)return _;var t=_[Symbol.toPrimitive];if(t!==void 0){var r=t.call(_,i||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(_)}function Ye(_){var i=gr(_,"string");return typeof i=="symbol"?i:String(i)}var re=typeof window<"u"&&typeof window.document<"u",Et=re?window:{},_e=re&&Et.document.documentElement?"ontouchstart"in Et.document.documentElement:!1,be=re?"PointerEvent"in Et:!1,st="cropper",we="all",Xe="crop",Ge="move",Ve="zoom",zt="e",Ot="w",It="s",St="n",Ft="ne",jt="nw",Wt="se",Ht="sw",he="".concat(st,"-crop"),De="".concat(st,"-disabled"),gt="".concat(st,"-hidden"),ze="".concat(st,"-hide"),vr="".concat(st,"-invisible"),ee="".concat(st,"-modal"),ce="".concat(st,"-move"),Yt="".concat(st,"Action"),qt="".concat(st,"Preview"),ye="crop",qe="move",Ke="none",le="crop",ue="cropend",fe="cropmove",de="cropstart",Oe="dblclick",_r=_e?"touchstart":"mousedown",br=_e?"touchmove":"mousemove",wr=_e?"touchend touchcancel":"mouseup",Te=be?"pointerdown":_r,Ie=be?"pointermove":br,Re=be?"pointerup pointercancel":wr,Be="ready",Ne="resize",Me="wheel",pe="zoom",Le="image/jpeg",yr=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,xr=/^data:/,kr=/^data:image\/jpeg;base64,/,Er=/^img|canvas$/i,$e=200,Je=100,Pe={viewMode:0,dragMode:ye,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:$e,minContainerHeight:Je,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Cr='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Sr=Number.isNaN||Et.isNaN;function et(_){return typeof _=="number"&&!Sr(_)}var Ue=function(i){return i>0&&i<1/0};function ne(_){return typeof _>"u"}function Tt(_){return se(_)==="object"&&_!==null}var Ar=Object.prototype.hasOwnProperty;function Rt(_){if(!Tt(_))return!1;try{var i=_.constructor,t=i.prototype;return i&&t&&Ar.call(t,"isPrototypeOf")}catch{return!1}}function mt(_){return typeof _=="function"}var Dr=Array.prototype.slice;function Qe(_){return Array.from?Array.from(_):Dr.call(_)}function ut(_,i){return _&&mt(i)&&(Array.isArray(_)||et(_.length)?Qe(_).forEach(function(t,r){i.call(_,t,r,_)}):Tt(_)&&Object.keys(_).forEach(function(t){i.call(_,_[t],t,_)})),_}var ot=Object.assign||function(i){for(var t=arguments.length,r=new Array(t>1?t-1:0),h=1;h<t;h++)r[h-1]=arguments[h];return Tt(i)&&r.length>0&&r.forEach(function(e){Tt(e)&&Object.keys(e).forEach(function(n){i[n]=e[n]})}),i},zr=/\.\d*(?:0|9){12}\d*$/;function Nt(_){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return zr.test(_)?Math.round(_*i)/i:_}var Or=/^width|height|left|top|marginLeft|marginTop$/;function At(_,i){var t=_.style;ut(i,function(r,h){Or.test(h)&&et(r)&&(r="".concat(r,"px")),t[h]=r})}function Tr(_,i){return _.classList?_.classList.contains(i):_.className.indexOf(i)>-1}function dt(_,i){if(i){if(et(_.length)){ut(_,function(r){dt(r,i)});return}if(_.classList){_.classList.add(i);return}var t=_.className.trim();t?t.indexOf(i)<0&&(_.className="".concat(t," ").concat(i)):_.className=i}}function kt(_,i){if(i){if(et(_.length)){ut(_,function(t){kt(t,i)});return}if(_.classList){_.classList.remove(i);return}_.className.indexOf(i)>=0&&(_.className=_.className.replace(i,""))}}function Bt(_,i,t){if(i){if(et(_.length)){ut(_,function(r){Bt(r,i,t)});return}t?dt(_,i):kt(_,i)}}var Ir=/([a-z\d])([A-Z])/g;function xe(_){return _.replace(Ir,"$1-$2").toLowerCase()}function me(_,i){return Tt(_[i])?_[i]:_.dataset?_.dataset[i]:_.getAttribute("data-".concat(xe(i)))}function Xt(_,i,t){Tt(t)?_[i]=t:_.dataset?_.dataset[i]=t:_.setAttribute("data-".concat(xe(i)),t)}function Rr(_,i){if(Tt(_[i]))try{delete _[i]}catch{_[i]=void 0}else if(_.dataset)try{delete _.dataset[i]}catch{_.dataset[i]=void 0}else _.removeAttribute("data-".concat(xe(i)))}var tr=/\s\s*/,er=function(){var _=!1;if(re){var i=!1,t=function(){},r=Object.defineProperty({},"once",{get:function(){return _=!0,i},set:function(e){i=e}});Et.addEventListener("test",t,r),Et.removeEventListener("test",t,r)}return _}();function wt(_,i,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},h=t;i.trim().split(tr).forEach(function(e){if(!er){var n=_.listeners;n&&n[e]&&n[e][t]&&(h=n[e][t],delete n[e][t],Object.keys(n[e]).length===0&&delete n[e],Object.keys(n).length===0&&delete _.listeners)}_.removeEventListener(e,h,r)})}function _t(_,i,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},h=t;i.trim().split(tr).forEach(function(e){if(r.once&&!er){var n=_.listeners,s=n===void 0?{}:n;h=function(){delete s[e][t],_.removeEventListener(e,h,r);for(var p=arguments.length,d=new Array(p),l=0;l<p;l++)d[l]=arguments[l];t.apply(_,d)},s[e]||(s[e]={}),s[e][t]&&_.removeEventListener(e,s[e][t],r),s[e][t]=h,_.listeners=s}_.addEventListener(e,h,r)})}function Mt(_,i,t){var r;return mt(Event)&&mt(CustomEvent)?r=new CustomEvent(i,{detail:t,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(i,!0,!0,t)),_.dispatchEvent(r)}function rr(_){var i=_.getBoundingClientRect();return{left:i.left+(window.pageXOffset-document.documentElement.clientLeft),top:i.top+(window.pageYOffset-document.documentElement.clientTop)}}var ae=Et.location,Br=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Fe(_){var i=_.match(Br);return i!==null&&(i[1]!==ae.protocol||i[2]!==ae.hostname||i[3]!==ae.port)}function je(_){var i="timestamp=".concat(new Date().getTime());return _+(_.indexOf("?")===-1?"?":"&")+i}function Zt(_){var i=_.rotate,t=_.scaleX,r=_.scaleY,h=_.translateX,e=_.translateY,n=[];et(h)&&h!==0&&n.push("translateX(".concat(h,"px)")),et(e)&&e!==0&&n.push("translateY(".concat(e,"px)")),et(i)&&i!==0&&n.push("rotate(".concat(i,"deg)")),et(t)&&t!==1&&n.push("scaleX(".concat(t,")")),et(r)&&r!==1&&n.push("scaleY(".concat(r,")"));var s=n.length?n.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Nr(_){var i=He({},_),t=0;return ut(_,function(r,h){delete i[h],ut(i,function(e){var n=Math.abs(r.startX-e.startX),s=Math.abs(r.startY-e.startY),c=Math.abs(r.endX-e.endX),p=Math.abs(r.endY-e.endY),d=Math.sqrt(n*n+s*s),l=Math.sqrt(c*c+p*p),g=(l-d)/d;Math.abs(g)>Math.abs(t)&&(t=g)})}),t}function Kt(_,i){var t=_.pageX,r=_.pageY,h={endX:t,endY:r};return i?h:He({startX:t,startY:r},h)}function Mr(_){var i=0,t=0,r=0;return ut(_,function(h){var e=h.startX,n=h.startY;i+=e,t+=n,r+=1}),i/=r,t/=r,{pageX:i,pageY:t}}function Dt(_){var i=_.aspectRatio,t=_.height,r=_.width,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",e=Ue(r),n=Ue(t);if(e&&n){var s=t*i;h==="contain"&&s>r||h==="cover"&&s<r?t=r/i:r=t*i}else e?t=r/i:n&&(r=t*i);return{width:r,height:t}}function Lr(_){var i=_.width,t=_.height,r=_.degree;if(r=Math.abs(r)%180,r===90)return{width:t,height:i};var h=r%90*Math.PI/180,e=Math.sin(h),n=Math.cos(h),s=i*n+t*e,c=i*e+t*n;return r>90?{width:c,height:s}:{width:s,height:c}}function Pr(_,i,t,r){var h=i.aspectRatio,e=i.naturalWidth,n=i.naturalHeight,s=i.rotate,c=s===void 0?0:s,p=i.scaleX,d=p===void 0?1:p,l=i.scaleY,g=l===void 0?1:l,f=t.aspectRatio,w=t.naturalWidth,u=t.naturalHeight,v=r.fillColor,m=v===void 0?"transparent":v,x=r.imageSmoothingEnabled,E=x===void 0?!0:x,D=r.imageSmoothingQuality,A=D===void 0?"low":D,C=r.maxWidth,O=C===void 0?1/0:C,P=r.maxHeight,R=P===void 0?1/0:P,W=r.minWidth,q=W===void 0?0:W,k=r.minHeight,N=k===void 0?0:k,o=document.createElement("canvas"),M=o.getContext("2d"),J=Dt({aspectRatio:f,width:O,height:R}),j=Dt({aspectRatio:f,width:q,height:N},"cover"),tt=Math.min(J.width,Math.max(j.width,w)),H=Math.min(J.height,Math.max(j.height,u)),Q=Dt({aspectRatio:h,width:O,height:R}),I=Dt({aspectRatio:h,width:q,height:N},"cover"),T=Math.min(Q.width,Math.max(I.width,e)),K=Math.min(Q.height,Math.max(I.height,n)),G=[-T/2,-K/2,T,K];return o.width=Nt(tt),o.height=Nt(H),M.fillStyle=m,M.fillRect(0,0,tt,H),M.save(),M.translate(tt/2,H/2),M.rotate(c*Math.PI/180),M.scale(d,g),M.imageSmoothingEnabled=E,M.imageSmoothingQuality=A,M.drawImage.apply(M,[_].concat(Ze(G.map(function(X){return Math.floor(Nt(X))})))),M.restore(),o}var ir=String.fromCharCode;function Ur(_,i,t){var r="";t+=i;for(var h=i;h<t;h+=1)r+=ir(_.getUint8(h));return r}var Fr=/^data:.*,/;function jr(_){var i=_.replace(Fr,""),t=atob(i),r=new ArrayBuffer(t.length),h=new Uint8Array(r);return ut(h,function(e,n){h[n]=t.charCodeAt(n)}),r}function Wr(_,i){for(var t=[],r=8192,h=new Uint8Array(_);h.length>0;)t.push(ir.apply(null,Qe(h.subarray(0,r)))),h=h.subarray(r);return"data:".concat(i,";base64,").concat(btoa(t.join("")))}function Hr(_){var i=new DataView(_),t;try{var r,h,e;if(i.getUint8(0)===255&&i.getUint8(1)===216)for(var n=i.byteLength,s=2;s+1<n;){if(i.getUint8(s)===255&&i.getUint8(s+1)===225){h=s;break}s+=1}if(h){var c=h+4,p=h+10;if(Ur(i,c,4)==="Exif"){var d=i.getUint16(p);if(r=d===18761,(r||d===19789)&&i.getUint16(p+2,r)===42){var l=i.getUint32(p+4,r);l>=8&&(e=p+l)}}}if(e){var g=i.getUint16(e,r),f,w;for(w=0;w<g;w+=1)if(f=e+w*12+2,i.getUint16(f,r)===274){f+=8,t=i.getUint16(f,r),i.setUint16(f,1,r);break}}}catch{t=1}return t}function Zr(_){var i=0,t=1,r=1;switch(_){case 2:t=-1;break;case 3:i=-180;break;case 4:r=-1;break;case 5:i=90,r=-1;break;case 6:i=90;break;case 7:i=90,t=-1;break;case 8:i=-90;break}return{rotate:i,scaleX:t,scaleY:r}}var Yr={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var i=this.element,t=this.options,r=this.container,h=this.cropper,e=Number(t.minContainerWidth),n=Number(t.minContainerHeight);dt(h,gt),kt(i,gt);var s={width:Math.max(r.offsetWidth,e>=0?e:$e),height:Math.max(r.offsetHeight,n>=0?n:Je)};this.containerData=s,At(h,{width:s.width,height:s.height}),dt(i,gt),kt(h,gt)},initCanvas:function(){var i=this.containerData,t=this.imageData,r=this.options.viewMode,h=Math.abs(t.rotate)%180===90,e=h?t.naturalHeight:t.naturalWidth,n=h?t.naturalWidth:t.naturalHeight,s=e/n,c=i.width,p=i.height;i.height*s>i.width?r===3?c=i.height*s:p=i.width/s:r===3?p=i.width/s:c=i.height*s;var d={aspectRatio:s,naturalWidth:e,naturalHeight:n,width:c,height:p};this.canvasData=d,this.limited=r===1||r===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(i.width-d.width)/2,d.top=(i.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=ot({},d)},limitCanvas:function(i,t){var r=this.options,h=this.containerData,e=this.canvasData,n=this.cropBoxData,s=r.viewMode,c=e.aspectRatio,p=this.cropped&&n;if(i){var d=Number(r.minCanvasWidth)||0,l=Number(r.minCanvasHeight)||0;s>1?(d=Math.max(d,h.width),l=Math.max(l,h.height),s===3&&(l*c>d?d=l*c:l=d/c)):s>0&&(d?d=Math.max(d,p?n.width:0):l?l=Math.max(l,p?n.height:0):p&&(d=n.width,l=n.height,l*c>d?d=l*c:l=d/c));var g=Dt({aspectRatio:c,width:d,height:l});d=g.width,l=g.height,e.minWidth=d,e.minHeight=l,e.maxWidth=1/0,e.maxHeight=1/0}if(t)if(s>(p?0:1)){var f=h.width-e.width,w=h.height-e.height;e.minLeft=Math.min(0,f),e.minTop=Math.min(0,w),e.maxLeft=Math.max(0,f),e.maxTop=Math.max(0,w),p&&this.limited&&(e.minLeft=Math.min(n.left,n.left+(n.width-e.width)),e.minTop=Math.min(n.top,n.top+(n.height-e.height)),e.maxLeft=n.left,e.maxTop=n.top,s===2&&(e.width>=h.width&&(e.minLeft=Math.min(0,f),e.maxLeft=Math.max(0,f)),e.height>=h.height&&(e.minTop=Math.min(0,w),e.maxTop=Math.max(0,w))))}else e.minLeft=-e.width,e.minTop=-e.height,e.maxLeft=h.width,e.maxTop=h.height},renderCanvas:function(i,t){var r=this.canvasData,h=this.imageData;if(t){var e=Lr({width:h.naturalWidth*Math.abs(h.scaleX||1),height:h.naturalHeight*Math.abs(h.scaleY||1),degree:h.rotate||0}),n=e.width,s=e.height,c=r.width*(n/r.naturalWidth),p=r.height*(s/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(p-r.height)/2,r.width=c,r.height=p,r.aspectRatio=n/s,r.naturalWidth=n,r.naturalHeight=s,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,At(this.canvas,ot({width:r.width,height:r.height},Zt({translateX:r.left,translateY:r.top}))),this.renderImage(i),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(i){var t=this.canvasData,r=this.imageData,h=r.naturalWidth*(t.width/t.naturalWidth),e=r.naturalHeight*(t.height/t.naturalHeight);ot(r,{width:h,height:e,left:(t.width-h)/2,top:(t.height-e)/2}),At(this.image,ot({width:r.width,height:r.height},Zt(ot({translateX:r.left,translateY:r.top},r)))),i&&this.output()},initCropBox:function(){var i=this.options,t=this.canvasData,r=i.aspectRatio||i.initialAspectRatio,h=Number(i.autoCropArea)||.8,e={width:t.width,height:t.height};r&&(t.height*r>t.width?e.height=e.width/r:e.width=e.height*r),this.cropBoxData=e,this.limitCropBox(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.width=Math.max(e.minWidth,e.width*h),e.height=Math.max(e.minHeight,e.height*h),e.left=t.left+(t.width-e.width)/2,e.top=t.top+(t.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCropBoxData=ot({},e)},limitCropBox:function(i,t){var r=this.options,h=this.containerData,e=this.canvasData,n=this.cropBoxData,s=this.limited,c=r.aspectRatio;if(i){var p=Number(r.minCropBoxWidth)||0,d=Number(r.minCropBoxHeight)||0,l=s?Math.min(h.width,e.width,e.width+e.left,h.width-e.left):h.width,g=s?Math.min(h.height,e.height,e.height+e.top,h.height-e.top):h.height;p=Math.min(p,h.width),d=Math.min(d,h.height),c&&(p&&d?d*c>p?d=p/c:p=d*c:p?d=p/c:d&&(p=d*c),g*c>l?g=l/c:l=g*c),n.minWidth=Math.min(p,l),n.minHeight=Math.min(d,g),n.maxWidth=l,n.maxHeight=g}t&&(s?(n.minLeft=Math.max(0,e.left),n.minTop=Math.max(0,e.top),n.maxLeft=Math.min(h.width,e.left+e.width)-n.width,n.maxTop=Math.min(h.height,e.top+e.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=h.width-n.width,n.maxTop=h.height-n.height))},renderCropBox:function(){var i=this.options,t=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,i.movable&&i.cropBoxMovable&&Xt(this.face,Yt,r.width>=t.width&&r.height>=t.height?Ge:we),At(this.cropBox,ot({width:r.width,height:r.height},Zt({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Mt(this.element,le,this.getData())}},Xr={initPreview:function(){var i=this.element,t=this.crossOrigin,r=this.options.preview,h=t?this.crossOriginUrl:this.url,e=i.alt||"The image to preview",n=document.createElement("img");if(t&&(n.crossOrigin=t),n.src=h,n.alt=e,this.viewBox.appendChild(n),this.viewBoxImage=n,!!r){var s=r;typeof r=="string"?s=i.ownerDocument.querySelectorAll(r):r.querySelector&&(s=[r]),this.previews=s,ut(s,function(c){var p=document.createElement("img");Xt(c,qt,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),t&&(p.crossOrigin=t),p.src=h,p.alt=e,p.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(p)})}},resetPreview:function(){ut(this.previews,function(i){var t=me(i,qt);At(i,{width:t.width,height:t.height}),i.innerHTML=t.html,Rr(i,qt)})},preview:function(){var i=this.imageData,t=this.canvasData,r=this.cropBoxData,h=r.width,e=r.height,n=i.width,s=i.height,c=r.left-t.left-i.left,p=r.top-t.top-i.top;!this.cropped||this.disabled||(At(this.viewBoxImage,ot({width:n,height:s},Zt(ot({translateX:-c,translateY:-p},i)))),ut(this.previews,function(d){var l=me(d,qt),g=l.width,f=l.height,w=g,u=f,v=1;h&&(v=g/h,u=e*v),e&&u>f&&(v=f/e,w=h*v,u=f),At(d,{width:w,height:u}),At(d.getElementsByTagName("img")[0],ot({width:n*v,height:s*v},Zt(ot({translateX:-c*v,translateY:-p*v},i))))}))}},Gr={bind:function(){var i=this.element,t=this.options,r=this.cropper;mt(t.cropstart)&&_t(i,de,t.cropstart),mt(t.cropmove)&&_t(i,fe,t.cropmove),mt(t.cropend)&&_t(i,ue,t.cropend),mt(t.crop)&&_t(i,le,t.crop),mt(t.zoom)&&_t(i,pe,t.zoom),_t(r,Te,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&_t(r,Me,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&_t(r,Oe,this.onDblclick=this.dblclick.bind(this)),_t(i.ownerDocument,Ie,this.onCropMove=this.cropMove.bind(this)),_t(i.ownerDocument,Re,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&_t(window,Ne,this.onResize=this.resize.bind(this))},unbind:function(){var i=this.element,t=this.options,r=this.cropper;mt(t.cropstart)&&wt(i,de,t.cropstart),mt(t.cropmove)&&wt(i,fe,t.cropmove),mt(t.cropend)&&wt(i,ue,t.cropend),mt(t.crop)&&wt(i,le,t.crop),mt(t.zoom)&&wt(i,pe,t.zoom),wt(r,Te,this.onCropStart),t.zoomable&&t.zoomOnWheel&&wt(r,Me,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&wt(r,Oe,this.onDblclick),wt(i.ownerDocument,Ie,this.onCropMove),wt(i.ownerDocument,Re,this.onCropEnd),t.responsive&&wt(window,Ne,this.onResize)}},Vr={resize:function(){if(!this.disabled){var i=this.options,t=this.container,r=this.containerData,h=t.offsetWidth/r.width,e=t.offsetHeight/r.height,n=Math.abs(h-1)>Math.abs(e-1)?h:e;if(n!==1){var s,c;i.restore&&(s=this.getCanvasData(),c=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(ut(s,function(p,d){s[d]=p*n})),this.setCropBoxData(ut(c,function(p,d){c[d]=p*n})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ke||this.setDragMode(Tr(this.dragBox,he)?qe:ye)},wheel:function(i){var t=this,r=Number(this.options.wheelZoomRatio)||.1,h=1;this.disabled||(i.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),i.deltaY?h=i.deltaY>0?1:-1:i.wheelDelta?h=-i.wheelDelta/120:i.detail&&(h=i.detail>0?1:-1),this.zoom(-h*r,i)))},cropStart:function(i){var t=i.buttons,r=i.button;if(!(this.disabled||(i.type==="mousedown"||i.type==="pointerdown"&&i.pointerType==="mouse")&&(et(t)&&t!==1||et(r)&&r!==0||i.ctrlKey))){var h=this.options,e=this.pointers,n;i.changedTouches?ut(i.changedTouches,function(s){e[s.identifier]=Kt(s)}):e[i.pointerId||0]=Kt(i),Object.keys(e).length>1&&h.zoomable&&h.zoomOnTouch?n=Ve:n=me(i.target,Yt),yr.test(n)&&Mt(this.element,de,{originalEvent:i,action:n})!==!1&&(i.preventDefault(),this.action=n,this.cropping=!1,n===Xe&&(this.cropping=!0,dt(this.dragBox,ee)))}},cropMove:function(i){var t=this.action;if(!(this.disabled||!t)){var r=this.pointers;i.preventDefault(),Mt(this.element,fe,{originalEvent:i,action:t})!==!1&&(i.changedTouches?ut(i.changedTouches,function(h){ot(r[h.identifier]||{},Kt(h,!0))}):ot(r[i.pointerId||0]||{},Kt(i,!0)),this.change(i))}},cropEnd:function(i){if(!this.disabled){var t=this.action,r=this.pointers;i.changedTouches?ut(i.changedTouches,function(h){delete r[h.identifier]}):delete r[i.pointerId||0],t&&(i.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Bt(this.dragBox,ee,this.cropped&&this.options.modal)),Mt(this.element,ue,{originalEvent:i,action:t}))}}},qr={change:function(i){var t=this.options,r=this.canvasData,h=this.containerData,e=this.cropBoxData,n=this.pointers,s=this.action,c=t.aspectRatio,p=e.left,d=e.top,l=e.width,g=e.height,f=p+l,w=d+g,u=0,v=0,m=h.width,x=h.height,E=!0,D;!c&&i.shiftKey&&(c=l&&g?l/g:1),this.limited&&(u=e.minLeft,v=e.minTop,m=u+Math.min(h.width,r.width,r.left+r.width),x=v+Math.min(h.height,r.height,r.top+r.height));var A=n[Object.keys(n)[0]],C={x:A.endX-A.startX,y:A.endY-A.startY},O=function(R){switch(R){case zt:f+C.x>m&&(C.x=m-f);break;case Ot:p+C.x<u&&(C.x=u-p);break;case St:d+C.y<v&&(C.y=v-d);break;case It:w+C.y>x&&(C.y=x-w);break}};switch(s){case we:p+=C.x,d+=C.y;break;case zt:if(C.x>=0&&(f>=m||c&&(d<=v||w>=x))){E=!1;break}O(zt),l+=C.x,l<0&&(s=Ot,l=-l,p-=l),c&&(g=l/c,d+=(e.height-g)/2);break;case St:if(C.y<=0&&(d<=v||c&&(p<=u||f>=m))){E=!1;break}O(St),g-=C.y,d+=C.y,g<0&&(s=It,g=-g,d-=g),c&&(l=g*c,p+=(e.width-l)/2);break;case Ot:if(C.x<=0&&(p<=u||c&&(d<=v||w>=x))){E=!1;break}O(Ot),l-=C.x,p+=C.x,l<0&&(s=zt,l=-l,p-=l),c&&(g=l/c,d+=(e.height-g)/2);break;case It:if(C.y>=0&&(w>=x||c&&(p<=u||f>=m))){E=!1;break}O(It),g+=C.y,g<0&&(s=St,g=-g,d-=g),c&&(l=g*c,p+=(e.width-l)/2);break;case Ft:if(c){if(C.y<=0&&(d<=v||f>=m)){E=!1;break}O(St),g-=C.y,d+=C.y,l=g*c}else O(St),O(zt),C.x>=0?f<m?l+=C.x:C.y<=0&&d<=v&&(E=!1):l+=C.x,C.y<=0?d>v&&(g-=C.y,d+=C.y):(g-=C.y,d+=C.y);l<0&&g<0?(s=Ht,g=-g,l=-l,d-=g,p-=l):l<0?(s=jt,l=-l,p-=l):g<0&&(s=Wt,g=-g,d-=g);break;case jt:if(c){if(C.y<=0&&(d<=v||p<=u)){E=!1;break}O(St),g-=C.y,d+=C.y,l=g*c,p+=e.width-l}else O(St),O(Ot),C.x<=0?p>u?(l-=C.x,p+=C.x):C.y<=0&&d<=v&&(E=!1):(l-=C.x,p+=C.x),C.y<=0?d>v&&(g-=C.y,d+=C.y):(g-=C.y,d+=C.y);l<0&&g<0?(s=Wt,g=-g,l=-l,d-=g,p-=l):l<0?(s=Ft,l=-l,p-=l):g<0&&(s=Ht,g=-g,d-=g);break;case Ht:if(c){if(C.x<=0&&(p<=u||w>=x)){E=!1;break}O(Ot),l-=C.x,p+=C.x,g=l/c}else O(It),O(Ot),C.x<=0?p>u?(l-=C.x,p+=C.x):C.y>=0&&w>=x&&(E=!1):(l-=C.x,p+=C.x),C.y>=0?w<x&&(g+=C.y):g+=C.y;l<0&&g<0?(s=Ft,g=-g,l=-l,d-=g,p-=l):l<0?(s=Wt,l=-l,p-=l):g<0&&(s=jt,g=-g,d-=g);break;case Wt:if(c){if(C.x>=0&&(f>=m||w>=x)){E=!1;break}O(zt),l+=C.x,g=l/c}else O(It),O(zt),C.x>=0?f<m?l+=C.x:C.y>=0&&w>=x&&(E=!1):l+=C.x,C.y>=0?w<x&&(g+=C.y):g+=C.y;l<0&&g<0?(s=jt,g=-g,l=-l,d-=g,p-=l):l<0?(s=Ht,l=-l,p-=l):g<0&&(s=Ft,g=-g,d-=g);break;case Ge:this.move(C.x,C.y),E=!1;break;case Ve:this.zoom(Nr(n),i),E=!1;break;case Xe:if(!C.x||!C.y){E=!1;break}D=rr(this.cropper),p=A.startX-D.left,d=A.startY-D.top,l=e.minWidth,g=e.minHeight,C.x>0?s=C.y>0?Wt:Ft:C.x<0&&(p-=l,s=C.y>0?Ht:jt),C.y<0&&(d-=g),this.cropped||(kt(this.cropBox,gt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}E&&(e.width=l,e.height=g,e.left=p,e.top=d,this.action=s,this.renderCropBox()),ut(n,function(P){P.startX=P.endX,P.startY=P.endY})}},Kr={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&dt(this.dragBox,ee),kt(this.cropBox,gt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ot({},this.initialImageData),this.canvasData=ot({},this.initialCanvasData),this.cropBoxData=ot({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ot(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),kt(this.dragBox,ee),dt(this.cropBox,gt)),this},replace:function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&i&&(this.isImg&&(this.element.src=i),t?(this.url=i,this.image.src=i,this.ready&&(this.viewBoxImage.src=i,ut(this.previews,function(r){r.getElementsByTagName("img")[0].src=i}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(i))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,kt(this.cropper,De)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,dt(this.cropper,De)),this},destroy:function(){var i=this.element;return i[st]?(i[st]=void 0,this.isImg&&this.replaced&&(i.src=this.originalUrl),this.uncreate(),this):this},move:function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,r=this.canvasData,h=r.left,e=r.top;return this.moveTo(ne(i)?i:h+Number(i),ne(t)?t:e+Number(t))},moveTo:function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,r=this.canvasData,h=!1;return i=Number(i),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(et(i)&&(r.left=i,h=!0),et(t)&&(r.top=t,h=!0),h&&this.renderCanvas(!0)),this},zoom:function(i,t){var r=this.canvasData;return i=Number(i),i<0?i=1/(1-i):i=1+i,this.zoomTo(r.width*i/r.naturalWidth,null,t)},zoomTo:function(i,t,r){var h=this.options,e=this.canvasData,n=e.width,s=e.height,c=e.naturalWidth,p=e.naturalHeight;if(i=Number(i),i>=0&&this.ready&&!this.disabled&&h.zoomable){var d=c*i,l=p*i;if(Mt(this.element,pe,{ratio:i,oldRatio:n/c,originalEvent:r})===!1)return this;if(r){var g=this.pointers,f=rr(this.cropper),w=g&&Object.keys(g).length?Mr(g):{pageX:r.pageX,pageY:r.pageY};e.left-=(d-n)*((w.pageX-f.left-e.left)/n),e.top-=(l-s)*((w.pageY-f.top-e.top)/s)}else Rt(t)&&et(t.x)&&et(t.y)?(e.left-=(d-n)*((t.x-e.left)/n),e.top-=(l-s)*((t.y-e.top)/s)):(e.left-=(d-n)/2,e.top-=(l-s)/2);e.width=d,e.height=l,this.renderCanvas(!0)}return this},rotate:function(i){return this.rotateTo((this.imageData.rotate||0)+Number(i))},rotateTo:function(i){return i=Number(i),et(i)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=i%360,this.renderCanvas(!0,!0)),this},scaleX:function(i){var t=this.imageData.scaleY;return this.scale(i,et(t)?t:1)},scaleY:function(i){var t=this.imageData.scaleX;return this.scale(et(t)?t:1,i)},scale:function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,r=this.imageData,h=!1;return i=Number(i),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(et(i)&&(r.scaleX=i,h=!0),et(t)&&(r.scaleY=t,h=!0),h&&this.renderCanvas(!0,!0)),this},getData:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.options,r=this.imageData,h=this.canvasData,e=this.cropBoxData,n;if(this.ready&&this.cropped){n={x:e.left-h.left,y:e.top-h.top,width:e.width,height:e.height};var s=r.width/r.naturalWidth;if(ut(n,function(d,l){n[l]=d/s}),i){var c=Math.round(n.y+n.height),p=Math.round(n.x+n.width);n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=p-n.x,n.height=c-n.y}}else n={x:0,y:0,width:0,height:0};return t.rotatable&&(n.rotate=r.rotate||0),t.scalable&&(n.scaleX=r.scaleX||1,n.scaleY=r.scaleY||1),n},setData:function(i){var t=this.options,r=this.imageData,h=this.canvasData,e={};if(this.ready&&!this.disabled&&Rt(i)){var n=!1;t.rotatable&&et(i.rotate)&&i.rotate!==r.rotate&&(r.rotate=i.rotate,n=!0),t.scalable&&(et(i.scaleX)&&i.scaleX!==r.scaleX&&(r.scaleX=i.scaleX,n=!0),et(i.scaleY)&&i.scaleY!==r.scaleY&&(r.scaleY=i.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var s=r.width/r.naturalWidth;et(i.x)&&(e.left=i.x*s+h.left),et(i.y)&&(e.top=i.y*s+h.top),et(i.width)&&(e.width=i.width*s),et(i.height)&&(e.height=i.height*s),this.setCropBoxData(e)}return this},getContainerData:function(){return this.ready?ot({},this.containerData):{}},getImageData:function(){return this.sized?ot({},this.imageData):{}},getCanvasData:function(){var i=this.canvasData,t={};return this.ready&&ut(["left","top","width","height","naturalWidth","naturalHeight"],function(r){t[r]=i[r]}),t},setCanvasData:function(i){var t=this.canvasData,r=t.aspectRatio;return this.ready&&!this.disabled&&Rt(i)&&(et(i.left)&&(t.left=i.left),et(i.top)&&(t.top=i.top),et(i.width)?(t.width=i.width,t.height=i.width/r):et(i.height)&&(t.height=i.height,t.width=i.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var i=this.cropBoxData,t;return this.ready&&this.cropped&&(t={left:i.left,top:i.top,width:i.width,height:i.height}),t||{}},setCropBoxData:function(i){var t=this.cropBoxData,r=this.options.aspectRatio,h,e;return this.ready&&this.cropped&&!this.disabled&&Rt(i)&&(et(i.left)&&(t.left=i.left),et(i.top)&&(t.top=i.top),et(i.width)&&i.width!==t.width&&(h=!0,t.width=i.width),et(i.height)&&i.height!==t.height&&(e=!0,t.height=i.height),r&&(h?t.height=t.width/r:e&&(t.width=t.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,r=Pr(this.image,this.imageData,t,i);if(!this.cropped)return r;var h=this.getData(i.rounded),e=h.x,n=h.y,s=h.width,c=h.height,p=r.width/Math.floor(t.naturalWidth);p!==1&&(e*=p,n*=p,s*=p,c*=p);var d=s/c,l=Dt({aspectRatio:d,width:i.maxWidth||1/0,height:i.maxHeight||1/0}),g=Dt({aspectRatio:d,width:i.minWidth||0,height:i.minHeight||0},"cover"),f=Dt({aspectRatio:d,width:i.width||(p!==1?r.width:s),height:i.height||(p!==1?r.height:c)}),w=f.width,u=f.height;w=Math.min(l.width,Math.max(g.width,w)),u=Math.min(l.height,Math.max(g.height,u));var v=document.createElement("canvas"),m=v.getContext("2d");v.width=Nt(w),v.height=Nt(u),m.fillStyle=i.fillColor||"transparent",m.fillRect(0,0,w,u);var x=i.imageSmoothingEnabled,E=x===void 0?!0:x,D=i.imageSmoothingQuality;m.imageSmoothingEnabled=E,D&&(m.imageSmoothingQuality=D);var A=r.width,C=r.height,O=e,P=n,R,W,q,k,N,o;O<=-s||O>A?(O=0,R=0,q=0,N=0):O<=0?(q=-O,O=0,R=Math.min(A,s+O),N=R):O<=A&&(q=0,R=Math.min(s,A-O),N=R),R<=0||P<=-c||P>C?(P=0,W=0,k=0,o=0):P<=0?(k=-P,P=0,W=Math.min(C,c+P),o=W):P<=C&&(k=0,W=Math.min(c,C-P),o=W);var M=[O,P,R,W];if(N>0&&o>0){var J=w/s;M.push(q*J,k*J,N*J,o*J)}return m.drawImage.apply(m,[r].concat(Ze(M.map(function(j){return Math.floor(Nt(j))})))),v},setAspectRatio:function(i){var t=this.options;return!this.disabled&&!ne(i)&&(t.aspectRatio=Math.max(0,i)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(i){var t=this.options,r=this.dragBox,h=this.face;if(this.ready&&!this.disabled){var e=i===ye,n=t.movable&&i===qe;i=e||n?i:Ke,t.dragMode=i,Xt(r,Yt,i),Bt(r,he,e),Bt(r,ce,n),t.cropBoxMovable||(Xt(h,Yt,i),Bt(h,he,e),Bt(h,ce,n))}return this}},$r=Et.Cropper,nr=function(){function _(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(cr(this,_),!i||!Er.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.options=ot({},Pe,Rt(t)&&t),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return lr(_,[{key:"init",value:function(){var t=this.element,r=t.tagName.toLowerCase(),h;if(!t[st]){if(t[st]=this,r==="img"){if(this.isImg=!0,h=t.getAttribute("src")||"",this.originalUrl=h,!h)return;h=t.src}else r==="canvas"&&window.HTMLCanvasElement&&(h=t.toDataURL());this.load(h)}}},{key:"load",value:function(t){var r=this;if(t){this.url=t,this.imageData={};var h=this.element,e=this.options;if(!e.rotatable&&!e.scalable&&(e.checkOrientation=!1),!e.checkOrientation||!window.ArrayBuffer){this.clone();return}if(xr.test(t)){kr.test(t)?this.read(jr(t)):this.clone();return}var n=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=n,n.onabort=s,n.onerror=s,n.ontimeout=s,n.onprogress=function(){n.getResponseHeader("content-type")!==Le&&n.abort()},n.onload=function(){r.read(n.response)},n.onloadend=function(){r.reloading=!1,r.xhr=null},e.checkCrossOrigin&&Fe(t)&&h.crossOrigin&&(t=je(t)),n.open("GET",t,!0),n.responseType="arraybuffer",n.withCredentials=h.crossOrigin==="use-credentials",n.send()}}},{key:"read",value:function(t){var r=this.options,h=this.imageData,e=Hr(t),n=0,s=1,c=1;if(e>1){this.url=Wr(t,Le);var p=Zr(e);n=p.rotate,s=p.scaleX,c=p.scaleY}r.rotatable&&(h.rotate=n),r.scalable&&(h.scaleX=s,h.scaleY=c),this.clone()}},{key:"clone",value:function(){var t=this.element,r=this.url,h=t.crossOrigin,e=r;this.options.checkCrossOrigin&&Fe(r)&&(h||(h="anonymous"),e=je(r)),this.crossOrigin=h,this.crossOriginUrl=e;var n=document.createElement("img");h&&(n.crossOrigin=h),n.src=e||r,n.alt=t.alt||"The image to crop",this.image=n,n.onload=this.start.bind(this),n.onerror=this.stop.bind(this),dt(n,ze),t.parentNode.insertBefore(n,t.nextSibling)}},{key:"start",value:function(){var t=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var h=Et.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Et.navigator.userAgent),e=function(p,d){ot(t.imageData,{naturalWidth:p,naturalHeight:d,aspectRatio:p/d}),t.initialImageData=ot({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(r.naturalWidth&&!h){e(r.naturalWidth,r.naturalHeight);return}var n=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=n,n.onload=function(){e(n.width,n.height),h||s.removeChild(n)},n.src=r.src,h||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(n))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var t=this.element,r=this.options,h=this.image,e=t.parentNode,n=document.createElement("div");n.innerHTML=Cr;var s=n.querySelector(".".concat(st,"-container")),c=s.querySelector(".".concat(st,"-canvas")),p=s.querySelector(".".concat(st,"-drag-box")),d=s.querySelector(".".concat(st,"-crop-box")),l=d.querySelector(".".concat(st,"-face"));this.container=e,this.cropper=s,this.canvas=c,this.dragBox=p,this.cropBox=d,this.viewBox=s.querySelector(".".concat(st,"-view-box")),this.face=l,c.appendChild(h),dt(t,gt),e.insertBefore(s,t.nextSibling),kt(h,ze),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,dt(d,gt),r.guides||dt(d.getElementsByClassName("".concat(st,"-dashed")),gt),r.center||dt(d.getElementsByClassName("".concat(st,"-center")),gt),r.background&&dt(s,"".concat(st,"-bg")),r.highlight||dt(l,vr),r.cropBoxMovable&&(dt(l,ce),Xt(l,Yt,we)),r.cropBoxResizable||(dt(d.getElementsByClassName("".concat(st,"-line")),gt),dt(d.getElementsByClassName("".concat(st,"-point")),gt)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),mt(r.ready)&&_t(t,Be,r.ready,{once:!0}),Mt(t,Be)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),kt(this.element,gt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=$r,_}},{key:"setDefaults",value:function(t){ot(Pe,Rt(t)&&t)}}]),_}();ot(nr.prototype,Yr,Xr,Gr,Vr,qr,Kr);var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function Jt(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ar={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(_,i){(function(t){_.exports=t()})(function(){return function t(r,h,e){function n(p,d){if(!h[p]){if(!r[p]){var l=typeof Jt=="function"&&Jt;if(!d&&l)return l(p,!0);if(s)return s(p,!0);var g=new Error("Cannot find module '"+p+"'");throw g.code="MODULE_NOT_FOUND",g}var f=h[p]={exports:{}};r[p][0].call(f.exports,function(w){var u=r[p][1][w];return n(u||w)},f,f.exports,t,r,h,e)}return h[p].exports}for(var s=typeof Jt=="function"&&Jt,c=0;c<e.length;c++)n(e[c]);return n}({1:[function(t,r,h){var e=t("./utils"),n=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(c){for(var p,d,l,g,f,w,u,v=[],m=0,x=c.length,E=x,D=e.getTypeOf(c)!=="string";m<c.length;)E=x-m,l=D?(p=c[m++],d=m<x?c[m++]:0,m<x?c[m++]:0):(p=c.charCodeAt(m++),d=m<x?c.charCodeAt(m++):0,m<x?c.charCodeAt(m++):0),g=p>>2,f=(3&p)<<4|d>>4,w=1<E?(15&d)<<2|l>>6:64,u=2<E?63&l:64,v.push(s.charAt(g)+s.charAt(f)+s.charAt(w)+s.charAt(u));return v.join("")},h.decode=function(c){var p,d,l,g,f,w,u=0,v=0,m="data:";if(c.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var x,E=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===s.charAt(64)&&E--,c.charAt(c.length-2)===s.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=n.uint8array?new Uint8Array(0|E):new Array(0|E);u<c.length;)p=s.indexOf(c.charAt(u++))<<2|(g=s.indexOf(c.charAt(u++)))>>4,d=(15&g)<<4|(f=s.indexOf(c.charAt(u++)))>>2,l=(3&f)<<6|(w=s.indexOf(c.charAt(u++))),x[v++]=p,f!==64&&(x[v++]=d),w!==64&&(x[v++]=l);return x}},{"./support":30,"./utils":32}],2:[function(t,r,h){var e=t("./external"),n=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function p(d,l,g,f,w){this.compressedSize=d,this.uncompressedSize=l,this.crc32=g,this.compression=f,this.compressedContent=w}p.prototype={getContentWorker:function(){var d=new n(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),l=this;return d.on("end",function(){if(this.streamInfo.data_length!==l.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new n(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(d,l,g){return d.pipe(new s).pipe(new c("uncompressedSize")).pipe(l.compressWorker(g)).pipe(new c("compressedSize")).withStreamInfo("compression",l)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,h){var e=t("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new e("STORE compression")},uncompressWorker:function(){return new e("STORE decompression")}},h.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,h){var e=t("./utils"),n=function(){for(var s,c=[],p=0;p<256;p++){s=p;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;c[p]=s}return c}();r.exports=function(s,c){return s!==void 0&&s.length?e.getTypeOf(s)!=="string"?function(p,d,l,g){var f=n,w=g+l;p^=-1;for(var u=g;u<w;u++)p=p>>>8^f[255&(p^d[u])];return-1^p}(0|c,s,s.length,0):function(p,d,l,g){var f=n,w=g+l;p^=-1;for(var u=g;u<w;u++)p=p>>>8^f[255&(p^d.charCodeAt(u))];return-1^p}(0|c,s,s.length,0):0}},{"./utils":32}],5:[function(t,r,h){h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(t,r,h){var e=null;e=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:e}},{lie:37}],7:[function(t,r,h){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",n=t("pako"),s=t("./utils"),c=t("./stream/GenericWorker"),p=e?"uint8array":"array";function d(l,g){c.call(this,"FlateWorker/"+l),this._pako=null,this._pakoAction=l,this._pakoOptions=g,this.meta={}}h.magic="\b\0",s.inherits(d,c),d.prototype.processChunk=function(l){this.meta=l.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(p,l.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var l=this;this._pako.onData=function(g){l.push({data:g,meta:l.meta})}},h.compressWorker=function(l){return new d("Deflate",l)},h.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,h){function e(f,w){var u,v="";for(u=0;u<w;u++)v+=String.fromCharCode(255&f),f>>>=8;return v}function n(f,w,u,v,m,x){var E,D,A=f.file,C=f.compression,O=x!==p.utf8encode,P=s.transformTo("string",x(A.name)),R=s.transformTo("string",p.utf8encode(A.name)),W=A.comment,q=s.transformTo("string",x(W)),k=s.transformTo("string",p.utf8encode(W)),N=R.length!==A.name.length,o=k.length!==W.length,M="",J="",j="",tt=A.dir,H=A.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};w&&!u||(Q.crc32=f.crc32,Q.compressedSize=f.compressedSize,Q.uncompressedSize=f.uncompressedSize);var I=0;w&&(I|=8),O||!N&&!o||(I|=2048);var T=0,K=0;tt&&(T|=16),m==="UNIX"?(K=798,T|=function(X,ht){var pt=X;return X||(pt=ht?16893:33204),(65535&pt)<<16}(A.unixPermissions,tt)):(K=20,T|=function(X){return 63&(X||0)}(A.dosPermissions)),E=H.getUTCHours(),E<<=6,E|=H.getUTCMinutes(),E<<=5,E|=H.getUTCSeconds()/2,D=H.getUTCFullYear()-1980,D<<=4,D|=H.getUTCMonth()+1,D<<=5,D|=H.getUTCDate(),N&&(J=e(1,1)+e(d(P),4)+R,M+="up"+e(J.length,2)+J),o&&(j=e(1,1)+e(d(q),4)+k,M+="uc"+e(j.length,2)+j);var G="";return G+=`
\0`,G+=e(I,2),G+=C.magic,G+=e(E,2),G+=e(D,2),G+=e(Q.crc32,4),G+=e(Q.compressedSize,4),G+=e(Q.uncompressedSize,4),G+=e(P.length,2),G+=e(M.length,2),{fileRecord:l.LOCAL_FILE_HEADER+G+P+M,dirRecord:l.CENTRAL_FILE_HEADER+e(K,2)+G+e(q.length,2)+"\0\0\0\0"+e(T,4)+e(v,4)+P+M+q}}var s=t("../utils"),c=t("../stream/GenericWorker"),p=t("../utf8"),d=t("../crc32"),l=t("../signature");function g(f,w,u,v){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=u,this.encodeFileName=v,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(g,c),g.prototype.push=function(f){var w=f.meta.percent||0,u=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:u?(w+100*(u-v-1))/u:100}}))},g.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var w=this.streamFiles&&!f.file.dir;if(w){var u=n(f,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(f){this.accumulate=!1;var w=this.streamFiles&&!f.file.dir,u=n(f,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),w)this.push({data:function(v){return l.DATA_DESCRIPTOR+e(v.crc32,4)+e(v.compressedSize,4)+e(v.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var f=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var u=this.bytesWritten-f,v=function(m,x,E,D,A){var C=s.transformTo("string",A(D));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+e(m,2)+e(m,2)+e(x,4)+e(E,4)+e(C.length,2)+C}(this.dirRecords.length,u,f,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(f){this._sources.push(f);var w=this;return f.on("data",function(u){w.processChunk(u)}),f.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),f.on("error",function(u){w.error(u)}),this},g.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(f){var w=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var u=0;u<w.length;u++)try{w[u].error(f)}catch{}return!0},g.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,w=0;w<f.length;w++)f[w].lock()},r.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,h){var e=t("../compressions"),n=t("./ZipFileWorker");h.generateWorker=function(s,c,p){var d=new n(c.streamFiles,p,c.platform,c.encodeFileName),l=0;try{s.forEach(function(g,f){l++;var w=function(x,E){var D=x||E,A=e[D];if(!A)throw new Error(D+" is not a valid compression method !");return A}(f.options.compression,c.compression),u=f.options.compressionOptions||c.compressionOptions||{},v=f.dir,m=f.date;f._compressWorker(w,u).withStreamInfo("file",{name:g,dir:v,date:m,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=l}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,h){function e(){if(!(this instanceof e))return new e;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new e;for(var s in this)typeof this[s]!="function"&&(n[s]=this[s]);return n}}(e.prototype=t("./object")).loadAsync=t("./load"),e.support=t("./support"),e.defaults=t("./defaults"),e.version="3.10.1",e.loadAsync=function(n,s){return new e().loadAsync(n,s)},e.external=t("./external"),r.exports=e},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,h){var e=t("./utils"),n=t("./external"),s=t("./utf8"),c=t("./zipEntries"),p=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function l(g){return new n.Promise(function(f,w){var u=g.decompressed.getContentWorker().pipe(new p);u.on("error",function(v){w(v)}).on("end",function(){u.streamInfo.crc32!==g.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(g,f){var w=this;return f=e.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(g)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",g,!0,f.optimizedBinaryString,f.base64).then(function(u){var v=new c(f);return v.load(u),v}).then(function(u){var v=[n.Promise.resolve(u)],m=u.files;if(f.checkCRC32)for(var x=0;x<m.length;x++)v.push(l(m[x]));return n.Promise.all(v)}).then(function(u){for(var v=u.shift(),m=v.files,x=0;x<m.length;x++){var E=m[x],D=E.fileNameStr,A=e.resolve(E.fileNameStr);w.file(A,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:f.createFolders}),E.dir||(w.file(A).unsafeOriginalName=D)}return v.zipComment.length&&(w.comment=v.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,h){var e=t("../utils"),n=t("../stream/GenericWorker");function s(c,p){n.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(p)}e.inherits(s,n),s.prototype._bindStream=function(c){var p=this;(this._stream=c).pause(),c.on("data",function(d){p.push({data:d,meta:{percent:0}})}).on("error",function(d){p.isPaused?this.generatedError=d:p.error(d)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,h){var e=t("readable-stream").Readable;function n(s,c,p){e.call(this,c),this._helper=s;var d=this;s.on("data",function(l,g){d.push(l)||d._helper.pause(),p&&p(g)}).on("error",function(l){d.emit("error",l)}).on("end",function(){d.push(null)})}t("../utils").inherits(n,e),n.prototype._read=function(){this._helper.resume()},r.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,r,h){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(e,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,n);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,n)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var n=new Buffer(e);return n.fill(0),n},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"}}},{}],15:[function(t,r,h){function e(A,C,O){var P,R=s.getTypeOf(C),W=s.extend(O||{},d);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(A=m(A)),W.createFolders&&(P=v(A))&&x.call(this,P,!0);var q=R==="string"&&W.binary===!1&&W.base64===!1;O&&O.binary!==void 0||(W.binary=!q),(C instanceof l&&C.uncompressedSize===0||W.dir||!C||C.length===0)&&(W.base64=!1,W.binary=!0,C="",W.compression="STORE",R="string");var k=null;k=C instanceof l||C instanceof c?C:w.isNode&&w.isStream(C)?new u(A,C):s.prepareContent(A,C,W.binary,W.optimizedBinaryString,W.base64);var N=new g(A,k,W);this.files[A]=N}var n=t("./utf8"),s=t("./utils"),c=t("./stream/GenericWorker"),p=t("./stream/StreamHelper"),d=t("./defaults"),l=t("./compressedObject"),g=t("./zipObject"),f=t("./generate"),w=t("./nodejsUtils"),u=t("./nodejs/NodejsStreamInputAdapter"),v=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var C=A.lastIndexOf("/");return 0<C?A.substring(0,C):""},m=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},x=function(A,C){return C=C!==void 0?C:d.createFolders,A=m(A),this.files[A]||e.call(this,A,null,{dir:!0,createFolders:C}),this.files[A]};function E(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var C,O,P;for(C in this.files)P=this.files[C],(O=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&A(O,P)},filter:function(A){var C=[];return this.forEach(function(O,P){A(O,P)&&C.push(P)}),C},file:function(A,C,O){if(arguments.length!==1)return A=this.root+A,e.call(this,A,C,O),this;if(E(A)){var P=A;return this.filter(function(W,q){return!q.dir&&P.test(W)})}var R=this.files[this.root+A];return R&&!R.dir?R:null},folder:function(A){if(!A)return this;if(E(A))return this.filter(function(R,W){return W.dir&&A.test(R)});var C=this.root+A,O=x.call(this,C),P=this.clone();return P.root=O.name,P},remove:function(A){A=this.root+A;var C=this.files[A];if(C||(A.slice(-1)!=="/"&&(A+="/"),C=this.files[A]),C&&!C.dir)delete this.files[A];else for(var O=this.filter(function(R,W){return W.name.slice(0,A.length)===A}),P=0;P<O.length;P++)delete this.files[O[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var C,O={};try{if((O=s.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");s.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var P=O.comment||this.comment||"";C=f.generateWorker(this,O,P)}catch(R){(C=new c("error")).error(R)}return new p(C,O.type||"string",O.mimeType)},generateAsync:function(A,C){return this.generateInternalStream(A).accumulate(C)},generateNodeStream:function(A,C){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(C)}};r.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,h){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,h){var e=t("./DataReader");function n(s){e.call(this,s);for(var c=0;c<this.data.length;c++)s[c]=255&s[c]}t("../utils").inherits(n,e),n.prototype.byteAt=function(s){return this.data[this.zero+s]},n.prototype.lastIndexOfSignature=function(s){for(var c=s.charCodeAt(0),p=s.charCodeAt(1),d=s.charCodeAt(2),l=s.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===c&&this.data[g+1]===p&&this.data[g+2]===d&&this.data[g+3]===l)return g-this.zero;return-1},n.prototype.readAndCheckSignature=function(s){var c=s.charCodeAt(0),p=s.charCodeAt(1),d=s.charCodeAt(2),l=s.charCodeAt(3),g=this.readData(4);return c===g[0]&&p===g[1]&&d===g[2]&&l===g[3]},n.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,c},r.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,r,h){var e=t("../utils");function n(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var c,p=0;for(this.checkOffset(s),c=this.index+s-1;c>=this.index;c--)p=(p<<8)+this.byteAt(c);return this.index+=s,p},readString:function(s){return e.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=n},{"../utils":32}],19:[function(t,r,h){var e=t("./Uint8ArrayReader");function n(s){e.call(this,s)}t("../utils").inherits(n,e),n.prototype.readData=function(s){this.checkOffset(s);var c=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,c},r.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,h){var e=t("./DataReader");function n(s){e.call(this,s)}t("../utils").inherits(n,e),n.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},n.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},n.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},n.prototype.readData=function(s){this.checkOffset(s);var c=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,c},r.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,r,h){var e=t("./ArrayReader");function n(s){e.call(this,s)}t("../utils").inherits(n,e),n.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,c},r.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,h){var e=t("../utils"),n=t("../support"),s=t("./ArrayReader"),c=t("./StringReader"),p=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");r.exports=function(l){var g=e.getTypeOf(l);return e.checkSupport(g),g!=="string"||n.uint8array?g==="nodebuffer"?new p(l):n.uint8array?new d(e.transformTo("uint8array",l)):new s(e.transformTo("array",l)):new c(l)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,h){h.LOCAL_FILE_HEADER="PK",h.CENTRAL_FILE_HEADER="PK",h.CENTRAL_DIRECTORY_END="PK",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,h){var e=t("./GenericWorker"),n=t("../utils");function s(c){e.call(this,"ConvertWorker to "+c),this.destType=c}n.inherits(s,e),s.prototype.processChunk=function(c){this.push({data:n.transformTo(this.destType,c.data),meta:c.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,h){var e=t("./GenericWorker"),n=t("../crc32");function s(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,e),s.prototype.processChunk=function(c){this.streamInfo.crc32=n(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,h){var e=t("../utils"),n=t("./GenericWorker");function s(c){n.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}e.inherits(s,n),s.prototype.processChunk=function(c){if(c){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+c.data.length}n.prototype.processChunk.call(this,c)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,h){var e=t("../utils"),n=t("./GenericWorker");function s(c){n.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){p.dataIsReady=!0,p.data=d,p.max=d&&d.length||0,p.type=e.getTypeOf(d),p.isPaused||p._tickAndRepeat()},function(d){p.error(d)})}e.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,p);break;case"uint8array":c=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":c=this.data.slice(this.index,p)}return this.index=p,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,h){function e(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}e.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,s){return this._listeners[n].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,s){if(this._listeners[n])for(var c=0;c<this._listeners[n].length;c++)this._listeners[n][c].call(this,s)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var s=this;return n.on("data",function(c){s.processChunk(c)}),n.on("end",function(){s.end()}),n.on("error",function(c){s.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var n=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,s){return this.extraStreamInfo[n]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,n)&&(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},r.exports=e},{}],29:[function(t,r,h){var e=t("../utils"),n=t("./ConvertWorker"),s=t("./GenericWorker"),c=t("../base64"),p=t("../support"),d=t("../external"),l=null;if(p.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(w,u){return new d.Promise(function(v,m){var x=[],E=w._internalType,D=w._outputType,A=w._mimeType;w.on("data",function(C,O){x.push(C),u&&u(O)}).on("error",function(C){x=[],m(C)}).on("end",function(){try{var C=function(O,P,R){switch(O){case"blob":return e.newBlob(e.transformTo("arraybuffer",P),R);case"base64":return c.encode(P);default:return e.transformTo(O,P)}}(D,function(O,P){var R,W=0,q=null,k=0;for(R=0;R<P.length;R++)k+=P[R].length;switch(O){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(q=new Uint8Array(k),R=0;R<P.length;R++)q.set(P[R],W),W+=P[R].length;return q;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+O+"'")}}(E,x),A);v(C)}catch(O){m(O)}x=[]}).resume()})}function f(w,u,v){var m=u;switch(u){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=u,this._mimeType=v,e.checkSupport(m),this._worker=w.pipe(new n(m)),w.lock()}catch(x){this._worker=new s("error"),this._worker.error(x)}}f.prototype={accumulate:function(w){return g(this,w)},on:function(w,u){var v=this;return w==="data"?this._worker.on(w,function(m){u.call(v,m.data,m.meta)}):this._worker.on(w,function(){e.delay(u,arguments,v)}),this},resume:function(){return e.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(e.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,h){if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",h.nodebuffer=typeof Buffer<"u",h.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")h.blob=!1;else{var e=new ArrayBuffer(0);try{h.blob=new Blob([e],{type:"application/zip"}).size===0}catch{try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(e),h.blob=n.getBlob("application/zip").size===0}catch{h.blob=!1}}}try{h.nodestream=!!t("readable-stream").Readable}catch{h.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,h){for(var e=t("./utils"),n=t("./support"),s=t("./nodejsUtils"),c=t("./stream/GenericWorker"),p=new Array(256),d=0;d<256;d++)p[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;p[254]=p[254]=1;function l(){c.call(this,"utf-8 decode"),this.leftOver=null}function g(){c.call(this,"utf-8 encode")}h.utf8encode=function(f){return n.nodebuffer?s.newBufferFrom(f,"utf-8"):function(w){var u,v,m,x,E,D=w.length,A=0;for(x=0;x<D;x++)(64512&(v=w.charCodeAt(x)))==55296&&x+1<D&&(64512&(m=w.charCodeAt(x+1)))==56320&&(v=65536+(v-55296<<10)+(m-56320),x++),A+=v<128?1:v<2048?2:v<65536?3:4;for(u=n.uint8array?new Uint8Array(A):new Array(A),x=E=0;E<A;x++)(64512&(v=w.charCodeAt(x)))==55296&&x+1<D&&(64512&(m=w.charCodeAt(x+1)))==56320&&(v=65536+(v-55296<<10)+(m-56320),x++),v<128?u[E++]=v:(v<2048?u[E++]=192|v>>>6:(v<65536?u[E++]=224|v>>>12:(u[E++]=240|v>>>18,u[E++]=128|v>>>12&63),u[E++]=128|v>>>6&63),u[E++]=128|63&v);return u}(f)},h.utf8decode=function(f){return n.nodebuffer?e.transformTo("nodebuffer",f).toString("utf-8"):function(w){var u,v,m,x,E=w.length,D=new Array(2*E);for(u=v=0;u<E;)if((m=w[u++])<128)D[v++]=m;else if(4<(x=p[m]))D[v++]=65533,u+=x-1;else{for(m&=x===2?31:x===3?15:7;1<x&&u<E;)m=m<<6|63&w[u++],x--;1<x?D[v++]=65533:m<65536?D[v++]=m:(m-=65536,D[v++]=55296|m>>10&1023,D[v++]=56320|1023&m)}return D.length!==v&&(D.subarray?D=D.subarray(0,v):D.length=v),e.applyFromCharCode(D)}(f=e.transformTo(n.uint8array?"uint8array":"array",f))},e.inherits(l,c),l.prototype.processChunk=function(f){var w=e.transformTo(n.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var u=w;(w=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),w.set(u,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var v=function(x,E){var D;for((E=E||x.length)>x.length&&(E=x.length),D=E-1;0<=D&&(192&x[D])==128;)D--;return D<0||D===0?E:D+p[x[D]]>E?D:E}(w),m=w;v!==w.length&&(n.uint8array?(m=w.subarray(0,v),this.leftOver=w.subarray(v,w.length)):(m=w.slice(0,v),this.leftOver=w.slice(v,w.length))),this.push({data:h.utf8decode(m),meta:f.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=l,e.inherits(g,c),g.prototype.processChunk=function(f){this.push({data:h.utf8encode(f.data),meta:f.meta})},h.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,h){var e=t("./support"),n=t("./base64"),s=t("./nodejsUtils"),c=t("./external");function p(u){return u}function d(u,v){for(var m=0;m<u.length;++m)v[m]=255&u.charCodeAt(m);return v}t("setimmediate"),h.newBlob=function(u,v){h.checkSupport("blob");try{return new Blob([u],{type:v})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(u),m.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(u,v,m){var x=[],E=0,D=u.length;if(D<=m)return String.fromCharCode.apply(null,u);for(;E<D;)v==="array"||v==="nodebuffer"?x.push(String.fromCharCode.apply(null,u.slice(E,Math.min(E+m,D)))):x.push(String.fromCharCode.apply(null,u.subarray(E,Math.min(E+m,D)))),E+=m;return x.join("")},stringifyByChar:function(u){for(var v="",m=0;m<u.length;m++)v+=String.fromCharCode(u[m]);return v},applyCanBeUsed:{uint8array:function(){try{return e.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return e.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function g(u){var v=65536,m=h.getTypeOf(u),x=!0;if(m==="uint8array"?x=l.applyCanBeUsed.uint8array:m==="nodebuffer"&&(x=l.applyCanBeUsed.nodebuffer),x)for(;1<v;)try{return l.stringifyByChunk(u,m,v)}catch{v=Math.floor(v/2)}return l.stringifyByChar(u)}function f(u,v){for(var m=0;m<u.length;m++)v[m]=u[m];return v}h.applyFromCharCode=g;var w={};w.string={string:p,array:function(u){return d(u,new Array(u.length))},arraybuffer:function(u){return w.string.uint8array(u).buffer},uint8array:function(u){return d(u,new Uint8Array(u.length))},nodebuffer:function(u){return d(u,s.allocBuffer(u.length))}},w.array={string:g,array:p,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return s.newBufferFrom(u)}},w.arraybuffer={string:function(u){return g(new Uint8Array(u))},array:function(u){return f(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:p,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return s.newBufferFrom(new Uint8Array(u))}},w.uint8array={string:g,array:function(u){return f(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:p,nodebuffer:function(u){return s.newBufferFrom(u)}},w.nodebuffer={string:g,array:function(u){return f(u,new Array(u.length))},arraybuffer:function(u){return w.nodebuffer.uint8array(u).buffer},uint8array:function(u){return f(u,new Uint8Array(u.length))},nodebuffer:p},h.transformTo=function(u,v){if(v=v||"",!u)return v;h.checkSupport(u);var m=h.getTypeOf(v);return w[m][u](v)},h.resolve=function(u){for(var v=u.split("/"),m=[],x=0;x<v.length;x++){var E=v[x];E==="."||E===""&&x!==0&&x!==v.length-1||(E===".."?m.pop():m.push(E))}return m.join("/")},h.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":e.nodebuffer&&s.isBuffer(u)?"nodebuffer":e.uint8array&&u instanceof Uint8Array?"uint8array":e.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(u){if(!e[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(u){var v,m,x="";for(m=0;m<(u||"").length;m++)x+="\\x"+((v=u.charCodeAt(m))<16?"0":"")+v.toString(16).toUpperCase();return x},h.delay=function(u,v,m){setImmediate(function(){u.apply(m||null,v||[])})},h.inherits=function(u,v){function m(){}m.prototype=v.prototype,u.prototype=new m},h.extend=function(){var u,v,m={};for(u=0;u<arguments.length;u++)for(v in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],v)&&m[v]===void 0&&(m[v]=arguments[u][v]);return m},h.prepareContent=function(u,v,m,x,E){return c.Promise.resolve(v).then(function(D){return e.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new c.Promise(function(A,C){var O=new FileReader;O.onload=function(P){A(P.target.result)},O.onerror=function(P){C(P.target.error)},O.readAsArrayBuffer(D)}):D}).then(function(D){var A=h.getTypeOf(D);return A?(A==="arraybuffer"?D=h.transformTo("uint8array",D):A==="string"&&(E?D=n.decode(D):m&&x!==!0&&(D=function(C){return d(C,e.uint8array?new Uint8Array(C.length):new Array(C.length))}(D))),D):c.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,h){var e=t("./reader/readerFor"),n=t("./utils"),s=t("./signature"),c=t("./zipEntry"),p=t("./support");function d(l){this.files=[],this.loadOptions=l}d.prototype={checkSignature:function(l){if(!this.reader.readAndCheckSignature(l)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(g)+", expected "+n.pretty(l)+")")}},isSignature:function(l,g){var f=this.reader.index;this.reader.setIndex(l);var w=this.reader.readString(4)===g;return this.reader.setIndex(f),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var l=this.reader.readData(this.zipCommentLength),g=p.uint8array?"uint8array":"array",f=n.transformTo(g,l);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var l,g,f,w=this.zip64EndOfCentralSize-44;0<w;)l=this.reader.readInt(2),g=this.reader.readInt(4),f=this.reader.readData(g),this.zip64ExtensibleData[l]={id:l,length:g,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var l,g;for(l=0;l<this.files.length;l++)g=this.files[l],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var l;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(l=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(l);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var l=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(l<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(l);var g=l;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(l=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(l),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var w=g-f;if(0<w)this.isSignature(g,s.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(l){this.reader=e(l)},load:function(l){this.prepareReader(l),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,h){var e=t("./reader/readerFor"),n=t("./utils"),s=t("./compressedObject"),c=t("./crc32"),p=t("./utf8"),d=t("./compressions"),l=t("./support");function g(f,w){this.options=f,this.loadOptions=w}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var w,u;if(f.skip(22),this.fileNameLength=f.readInt(2),u=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(v){for(var m in d)if(Object.prototype.hasOwnProperty.call(d,m)&&d[m].magic===v)return d[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,w,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var w=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(w),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=e(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var w,u,v,m=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<m;)w=f.readInt(2),u=f.readInt(2),v=f.readData(u),this.extraFields[w]={id:w,length:u,value:v};f.setIndex(m)},handleUTF8:function(){var f=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var u=n.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var m=n.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var w=e(f.value);return w.readInt(1)!==1||c(this.fileName)!==w.readInt(4)?null:p.utf8decode(w.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var w=e(f.value);return w.readInt(1)!==1||c(this.fileComment)!==w.readInt(4)?null:p.utf8decode(w.readData(f.length-5))}return null}},r.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,h){function e(w,u,v){this.name=w,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=u,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var n=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),c=t("./utf8"),p=t("./compressedObject"),d=t("./stream/GenericWorker");e.prototype={internalStream:function(w){var u=null,v="string";try{if(!w)throw new Error("No output type specified.");var m=(v=w.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),u=this._decompressWorker();var x=!this._dataBinary;x&&!m&&(u=u.pipe(new c.Utf8EncodeWorker)),!x&&m&&(u=u.pipe(new c.Utf8DecodeWorker))}catch(E){(u=new d("error")).error(E)}return new n(u,v,"")},async:function(w,u){return this.internalStream(w).accumulate(u)},nodeStream:function(w,u){return this.internalStream(w||"nodebuffer").toNodejsStream(u)},_compressWorker:function(w,u){if(this._data instanceof p&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new c.Utf8EncodeWorker)),p.createWorkerFrom(v,w,u)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof d?this._data:new s(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<l.length;f++)e.prototype[l[f]]=g;r.exports=e},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,h){(function(e){var n,s,c=e.MutationObserver||e.WebKitMutationObserver;if(c){var p=0,d=new c(w),l=e.document.createTextNode("");d.observe(l,{characterData:!0}),n=function(){l.data=p=++p%2}}else if(e.setImmediate||e.MessageChannel===void 0)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var u=e.document.createElement("script");u.onreadystatechange=function(){w(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},e.document.documentElement.appendChild(u)}:function(){setTimeout(w,0)};else{var g=new e.MessageChannel;g.port1.onmessage=w,n=function(){g.port2.postMessage(0)}}var f=[];function w(){var u,v;s=!0;for(var m=f.length;m;){for(v=f,f=[],u=-1;++u<m;)v[u]();m=f.length}s=!1}r.exports=function(u){f.push(u)!==1||s||n()}}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,h){var e=t("immediate");function n(){}var s={},c=["REJECTED"],p=["FULFILLED"],d=["PENDING"];function l(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,m!==n&&u(this,m)}function g(m,x,E){this.promise=m,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function f(m,x,E){e(function(){var D;try{D=x(E)}catch(A){return s.reject(m,A)}D===m?s.reject(m,new TypeError("Cannot resolve promise with itself")):s.resolve(m,D)})}function w(m){var x=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof x=="function")return function(){x.apply(m,arguments)}}function u(m,x){var E=!1;function D(O){E||(E=!0,s.reject(m,O))}function A(O){E||(E=!0,s.resolve(m,O))}var C=v(function(){x(A,D)});C.status==="error"&&D(C.value)}function v(m,x){var E={};try{E.value=m(x),E.status="success"}catch(D){E.status="error",E.value=D}return E}(r.exports=l).prototype.finally=function(m){if(typeof m!="function")return this;var x=this.constructor;return this.then(function(E){return x.resolve(m()).then(function(){return E})},function(E){return x.resolve(m()).then(function(){throw E})})},l.prototype.catch=function(m){return this.then(null,m)},l.prototype.then=function(m,x){if(typeof m!="function"&&this.state===p||typeof x!="function"&&this.state===c)return this;var E=new this.constructor(n);return this.state!==d?f(E,this.state===p?m:x,this.outcome):this.queue.push(new g(E,m,x)),E},g.prototype.callFulfilled=function(m){s.resolve(this.promise,m)},g.prototype.otherCallFulfilled=function(m){f(this.promise,this.onFulfilled,m)},g.prototype.callRejected=function(m){s.reject(this.promise,m)},g.prototype.otherCallRejected=function(m){f(this.promise,this.onRejected,m)},s.resolve=function(m,x){var E=v(w,x);if(E.status==="error")return s.reject(m,E.value);var D=E.value;if(D)u(m,D);else{m.state=p,m.outcome=x;for(var A=-1,C=m.queue.length;++A<C;)m.queue[A].callFulfilled(x)}return m},s.reject=function(m,x){m.state=c,m.outcome=x;for(var E=-1,D=m.queue.length;++E<D;)m.queue[E].callRejected(x);return m},l.resolve=function(m){return m instanceof this?m:s.resolve(new this(n),m)},l.reject=function(m){var x=new this(n);return s.reject(x,m)},l.all=function(m){var x=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=m.length,D=!1;if(!E)return this.resolve([]);for(var A=new Array(E),C=0,O=-1,P=new this(n);++O<E;)R(m[O],O);return P;function R(W,q){x.resolve(W).then(function(k){A[q]=k,++C!==E||D||(D=!0,s.resolve(P,A))},function(k){D||(D=!0,s.reject(P,k))})}},l.race=function(m){var x=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=m.length,D=!1;if(!E)return this.resolve([]);for(var A=-1,C=new this(n);++A<E;)O=m[A],x.resolve(O).then(function(P){D||(D=!0,s.resolve(C,P))},function(P){D||(D=!0,s.reject(C,P))});var O;return C}},{immediate:36}],38:[function(t,r,h){var e={};(0,t("./lib/utils/common").assign)(e,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=e},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,h){var e=t("./zlib/deflate"),n=t("./utils/common"),s=t("./utils/strings"),c=t("./zlib/messages"),p=t("./zlib/zstream"),d=Object.prototype.toString,l=0,g=-1,f=0,w=8;function u(m){if(!(this instanceof u))return new u(m);this.options=n.assign({level:g,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},m||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var E=e.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(E!==l)throw new Error(c[E]);if(x.header&&e.deflateSetHeader(this.strm,x.header),x.dictionary){var D;if(D=typeof x.dictionary=="string"?s.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(E=e.deflateSetDictionary(this.strm,D))!==l)throw new Error(c[E]);this._dict_set=!0}}function v(m,x){var E=new u(x);if(E.push(m,!0),E.err)throw E.msg||c[E.err];return E.result}u.prototype.push=function(m,x){var E,D,A=this.strm,C=this.options.chunkSize;if(this.ended)return!1;D=x===~~x?x:x===!0?4:0,typeof m=="string"?A.input=s.string2buf(m):d.call(m)==="[object ArrayBuffer]"?A.input=new Uint8Array(m):A.input=m,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new n.Buf8(C),A.next_out=0,A.avail_out=C),(E=e.deflate(A,D))!==1&&E!==l)return this.onEnd(E),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(n.shrinkBuf(A.output,A.next_out))):this.onData(n.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&E!==1);return D===4?(E=e.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===l):D!==2||(this.onEnd(l),!(A.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},h.Deflate=u,h.deflate=v,h.deflateRaw=function(m,x){return(x=x||{}).raw=!0,v(m,x)},h.gzip=function(m,x){return(x=x||{}).gzip=!0,v(m,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,h){var e=t("./zlib/inflate"),n=t("./utils/common"),s=t("./utils/strings"),c=t("./zlib/constants"),p=t("./zlib/messages"),d=t("./zlib/zstream"),l=t("./zlib/gzheader"),g=Object.prototype.toString;function f(u){if(!(this instanceof f))return new f(u);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},u||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||u&&u.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var m=e.inflateInit2(this.strm,v.windowBits);if(m!==c.Z_OK)throw new Error(p[m]);this.header=new l,e.inflateGetHeader(this.strm,this.header)}function w(u,v){var m=new f(v);if(m.push(u,!0),m.err)throw m.msg||p[m.err];return m.result}f.prototype.push=function(u,v){var m,x,E,D,A,C,O=this.strm,P=this.options.chunkSize,R=this.options.dictionary,W=!1;if(this.ended)return!1;x=v===~~v?v:v===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof u=="string"?O.input=s.binstring2buf(u):g.call(u)==="[object ArrayBuffer]"?O.input=new Uint8Array(u):O.input=u,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new n.Buf8(P),O.next_out=0,O.avail_out=P),(m=e.inflate(O,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&R&&(C=typeof R=="string"?s.string2buf(R):g.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,m=e.inflateSetDictionary(this.strm,C)),m===c.Z_BUF_ERROR&&W===!0&&(m=c.Z_OK,W=!1),m!==c.Z_STREAM_END&&m!==c.Z_OK)return this.onEnd(m),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&m!==c.Z_STREAM_END&&(O.avail_in!==0||x!==c.Z_FINISH&&x!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=s.utf8border(O.output,O.next_out),D=O.next_out-E,A=s.buf2string(O.output,E),O.next_out=D,O.avail_out=P-D,D&&n.arraySet(O.output,O.output,E,D,0),this.onData(A)):this.onData(n.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(W=!0)}while((0<O.avail_in||O.avail_out===0)&&m!==c.Z_STREAM_END);return m===c.Z_STREAM_END&&(x=c.Z_FINISH),x===c.Z_FINISH?(m=e.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===c.Z_OK):x!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(O.avail_out=0))},f.prototype.onData=function(u){this.chunks.push(u)},f.prototype.onEnd=function(u){u===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},h.Inflate=f,h.inflate=w,h.inflateRaw=function(u,v){return(v=v||{}).raw=!0,w(u,v)},h.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,h){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";h.assign=function(c){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var d=p.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var l in d)d.hasOwnProperty(l)&&(c[l]=d[l])}}return c},h.shrinkBuf=function(c,p){return c.length===p?c:c.subarray?c.subarray(0,p):(c.length=p,c)};var n={arraySet:function(c,p,d,l,g){if(p.subarray&&c.subarray)c.set(p.subarray(d,d+l),g);else for(var f=0;f<l;f++)c[g+f]=p[d+f]},flattenChunks:function(c){var p,d,l,g,f,w;for(p=l=0,d=c.length;p<d;p++)l+=c[p].length;for(w=new Uint8Array(l),p=g=0,d=c.length;p<d;p++)f=c[p],w.set(f,g),g+=f.length;return w}},s={arraySet:function(c,p,d,l,g){for(var f=0;f<l;f++)c[g+f]=p[d+f]},flattenChunks:function(c){return[].concat.apply([],c)}};h.setTyped=function(c){c?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,n)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,s))},h.setTyped(e)},{}],42:[function(t,r,h){var e=t("./common"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var c=new e.Buf8(256),p=0;p<256;p++)c[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function d(l,g){if(g<65537&&(l.subarray&&s||!l.subarray&&n))return String.fromCharCode.apply(null,e.shrinkBuf(l,g));for(var f="",w=0;w<g;w++)f+=String.fromCharCode(l[w]);return f}c[254]=c[254]=1,h.string2buf=function(l){var g,f,w,u,v,m=l.length,x=0;for(u=0;u<m;u++)(64512&(f=l.charCodeAt(u)))==55296&&u+1<m&&(64512&(w=l.charCodeAt(u+1)))==56320&&(f=65536+(f-55296<<10)+(w-56320),u++),x+=f<128?1:f<2048?2:f<65536?3:4;for(g=new e.Buf8(x),u=v=0;v<x;u++)(64512&(f=l.charCodeAt(u)))==55296&&u+1<m&&(64512&(w=l.charCodeAt(u+1)))==56320&&(f=65536+(f-55296<<10)+(w-56320),u++),f<128?g[v++]=f:(f<2048?g[v++]=192|f>>>6:(f<65536?g[v++]=224|f>>>12:(g[v++]=240|f>>>18,g[v++]=128|f>>>12&63),g[v++]=128|f>>>6&63),g[v++]=128|63&f);return g},h.buf2binstring=function(l){return d(l,l.length)},h.binstring2buf=function(l){for(var g=new e.Buf8(l.length),f=0,w=g.length;f<w;f++)g[f]=l.charCodeAt(f);return g},h.buf2string=function(l,g){var f,w,u,v,m=g||l.length,x=new Array(2*m);for(f=w=0;f<m;)if((u=l[f++])<128)x[w++]=u;else if(4<(v=c[u]))x[w++]=65533,f+=v-1;else{for(u&=v===2?31:v===3?15:7;1<v&&f<m;)u=u<<6|63&l[f++],v--;1<v?x[w++]=65533:u<65536?x[w++]=u:(u-=65536,x[w++]=55296|u>>10&1023,x[w++]=56320|1023&u)}return d(x,w)},h.utf8border=function(l,g){var f;for((g=g||l.length)>l.length&&(g=l.length),f=g-1;0<=f&&(192&l[f])==128;)f--;return f<0||f===0?g:f+c[l[f]]>g?f:g}},{"./common":41}],43:[function(t,r,h){r.exports=function(e,n,s,c){for(var p=65535&e|0,d=e>>>16&65535|0,l=0;s!==0;){for(s-=l=2e3<s?2e3:s;d=d+(p=p+n[c++]|0)|0,--l;);p%=65521,d%=65521}return p|d<<16|0}},{}],44:[function(t,r,h){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,h){var e=function(){for(var n,s=[],c=0;c<256;c++){n=c;for(var p=0;p<8;p++)n=1&n?3988292384^n>>>1:n>>>1;s[c]=n}return s}();r.exports=function(n,s,c,p){var d=e,l=p+c;n^=-1;for(var g=p;g<l;g++)n=n>>>8^d[255&(n^s[g])];return-1^n}},{}],46:[function(t,r,h){var e,n=t("../utils/common"),s=t("./trees"),c=t("./adler32"),p=t("./crc32"),d=t("./messages"),l=0,g=4,f=0,w=-2,u=-1,v=4,m=2,x=8,E=9,D=286,A=30,C=19,O=2*D+1,P=15,R=3,W=258,q=W+R+1,k=42,N=113,o=1,M=2,J=3,j=4;function tt(a,L){return a.msg=d[L],L}function H(a){return(a<<1)-(4<a?9:0)}function Q(a){for(var L=a.length;0<=--L;)a[L]=0}function I(a){var L=a.state,B=L.pending;B>a.avail_out&&(B=a.avail_out),B!==0&&(n.arraySet(a.output,L.pending_buf,L.pending_out,B,a.next_out),a.next_out+=B,L.pending_out+=B,a.total_out+=B,a.avail_out-=B,L.pending-=B,L.pending===0&&(L.pending_out=0))}function T(a,L){s._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,L),a.block_start=a.strstart,I(a.strm)}function K(a,L){a.pending_buf[a.pending++]=L}function G(a,L){a.pending_buf[a.pending++]=L>>>8&255,a.pending_buf[a.pending++]=255&L}function X(a,L){var B,y,b=a.max_chain_length,S=a.strstart,U=a.prev_length,F=a.nice_match,z=a.strstart>a.w_size-q?a.strstart-(a.w_size-q):0,Z=a.window,V=a.w_mask,Y=a.prev,$=a.strstart+W,at=Z[S+U-1],it=Z[S+U];a.prev_length>=a.good_match&&(b>>=2),F>a.lookahead&&(F=a.lookahead);do if(Z[(B=L)+U]===it&&Z[B+U-1]===at&&Z[B]===Z[S]&&Z[++B]===Z[S+1]){S+=2,B++;do;while(Z[++S]===Z[++B]&&Z[++S]===Z[++B]&&Z[++S]===Z[++B]&&Z[++S]===Z[++B]&&Z[++S]===Z[++B]&&Z[++S]===Z[++B]&&Z[++S]===Z[++B]&&Z[++S]===Z[++B]&&S<$);if(y=W-($-S),S=$-W,U<y){if(a.match_start=L,F<=(U=y))break;at=Z[S+U-1],it=Z[S+U]}}while((L=Y[L&V])>z&&--b!=0);return U<=a.lookahead?U:a.lookahead}function ht(a){var L,B,y,b,S,U,F,z,Z,V,Y=a.w_size;do{if(b=a.window_size-a.lookahead-a.strstart,a.strstart>=Y+(Y-q)){for(n.arraySet(a.window,a.window,Y,Y,0),a.match_start-=Y,a.strstart-=Y,a.block_start-=Y,L=B=a.hash_size;y=a.head[--L],a.head[L]=Y<=y?y-Y:0,--B;);for(L=B=Y;y=a.prev[--L],a.prev[L]=Y<=y?y-Y:0,--B;);b+=Y}if(a.strm.avail_in===0)break;if(U=a.strm,F=a.window,z=a.strstart+a.lookahead,Z=b,V=void 0,V=U.avail_in,Z<V&&(V=Z),B=V===0?0:(U.avail_in-=V,n.arraySet(F,U.input,U.next_in,V,z),U.state.wrap===1?U.adler=c(U.adler,F,V,z):U.state.wrap===2&&(U.adler=p(U.adler,F,V,z)),U.next_in+=V,U.total_in+=V,V),a.lookahead+=B,a.lookahead+a.insert>=R)for(S=a.strstart-a.insert,a.ins_h=a.window[S],a.ins_h=(a.ins_h<<a.hash_shift^a.window[S+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[S+R-1])&a.hash_mask,a.prev[S&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=S,S++,a.insert--,!(a.lookahead+a.insert<R)););}while(a.lookahead<q&&a.strm.avail_in!==0)}function pt(a,L){for(var B,y;;){if(a.lookahead<q){if(ht(a),a.lookahead<q&&L===l)return o;if(a.lookahead===0)break}if(B=0,a.lookahead>=R&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+R-1])&a.hash_mask,B=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),B!==0&&a.strstart-B<=a.w_size-q&&(a.match_length=X(a,B)),a.match_length>=R)if(y=s._tr_tally(a,a.strstart-a.match_start,a.match_length-R),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=R){for(a.match_length--;a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+R-1])&a.hash_mask,B=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart,--a.match_length!=0;);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else y=s._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(y&&(T(a,!1),a.strm.avail_out===0))return o}return a.insert=a.strstart<R-1?a.strstart:R-1,L===g?(T(a,!0),a.strm.avail_out===0?J:j):a.last_lit&&(T(a,!1),a.strm.avail_out===0)?o:M}function rt(a,L){for(var B,y,b;;){if(a.lookahead<q){if(ht(a),a.lookahead<q&&L===l)return o;if(a.lookahead===0)break}if(B=0,a.lookahead>=R&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+R-1])&a.hash_mask,B=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=R-1,B!==0&&a.prev_length<a.max_lazy_match&&a.strstart-B<=a.w_size-q&&(a.match_length=X(a,B),a.match_length<=5&&(a.strategy===1||a.match_length===R&&4096<a.strstart-a.match_start)&&(a.match_length=R-1)),a.prev_length>=R&&a.match_length<=a.prev_length){for(b=a.strstart+a.lookahead-R,y=s._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-R),a.lookahead-=a.prev_length-1,a.prev_length-=2;++a.strstart<=b&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+R-1])&a.hash_mask,B=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),--a.prev_length!=0;);if(a.match_available=0,a.match_length=R-1,a.strstart++,y&&(T(a,!1),a.strm.avail_out===0))return o}else if(a.match_available){if((y=s._tr_tally(a,0,a.window[a.strstart-1]))&&T(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return o}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(y=s._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<R-1?a.strstart:R-1,L===g?(T(a,!0),a.strm.avail_out===0?J:j):a.last_lit&&(T(a,!1),a.strm.avail_out===0)?o:M}function nt(a,L,B,y,b){this.good_length=a,this.max_lazy=L,this.nice_length=B,this.max_chain=y,this.func=b}function ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*O),this.dyn_dtree=new n.Buf16(2*(2*A+1)),this.bl_tree=new n.Buf16(2*(2*C+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(P+1),this.heap=new n.Buf16(2*D+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*D+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(a){var L;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=m,(L=a.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?k:N,a.adler=L.wrap===2?0:1,L.last_flush=l,s._tr_init(L),f):tt(a,w)}function yt(a){var L=ct(a);return L===f&&function(B){B.window_size=2*B.w_size,Q(B.head),B.max_lazy_match=e[B.level].max_lazy,B.good_match=e[B.level].good_length,B.nice_match=e[B.level].nice_length,B.max_chain_length=e[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=R-1,B.match_available=0,B.ins_h=0}(a.state),L}function bt(a,L,B,y,b,S){if(!a)return w;var U=1;if(L===u&&(L=6),y<0?(U=0,y=-y):15<y&&(U=2,y-=16),b<1||E<b||B!==x||y<8||15<y||L<0||9<L||S<0||v<S)return tt(a,w);y===8&&(y=9);var F=new ft;return(a.state=F).strm=a,F.wrap=U,F.gzhead=null,F.w_bits=y,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=b+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+R-1)/R),F.window=new n.Buf8(2*F.w_size),F.head=new n.Buf16(F.hash_size),F.prev=new n.Buf16(F.w_size),F.lit_bufsize=1<<b+6,F.pending_buf_size=4*F.lit_bufsize,F.pending_buf=new n.Buf8(F.pending_buf_size),F.d_buf=1*F.lit_bufsize,F.l_buf=3*F.lit_bufsize,F.level=L,F.strategy=S,F.method=B,yt(a)}e=[new nt(0,0,0,0,function(a,L){var B=65535;for(B>a.pending_buf_size-5&&(B=a.pending_buf_size-5);;){if(a.lookahead<=1){if(ht(a),a.lookahead===0&&L===l)return o;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var y=a.block_start+B;if((a.strstart===0||a.strstart>=y)&&(a.lookahead=a.strstart-y,a.strstart=y,T(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-q&&(T(a,!1),a.strm.avail_out===0))return o}return a.insert=0,L===g?(T(a,!0),a.strm.avail_out===0?J:j):(a.strstart>a.block_start&&(T(a,!1),a.strm.avail_out),o)}),new nt(4,4,8,4,pt),new nt(4,5,16,8,pt),new nt(4,6,32,32,pt),new nt(4,4,16,16,rt),new nt(8,16,32,32,rt),new nt(8,16,128,128,rt),new nt(8,32,128,256,rt),new nt(32,128,258,1024,rt),new nt(32,258,258,4096,rt)],h.deflateInit=function(a,L){return bt(a,L,x,15,8,0)},h.deflateInit2=bt,h.deflateReset=yt,h.deflateResetKeep=ct,h.deflateSetHeader=function(a,L){return a&&a.state?a.state.wrap!==2?w:(a.state.gzhead=L,f):w},h.deflate=function(a,L){var B,y,b,S;if(!a||!a.state||5<L||L<0)return a?tt(a,w):w;if(y=a.state,!a.output||!a.input&&a.avail_in!==0||y.status===666&&L!==g)return tt(a,a.avail_out===0?-5:w);if(y.strm=a,B=y.last_flush,y.last_flush=L,y.status===k)if(y.wrap===2)a.adler=0,K(y,31),K(y,139),K(y,8),y.gzhead?(K(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),K(y,255&y.gzhead.time),K(y,y.gzhead.time>>8&255),K(y,y.gzhead.time>>16&255),K(y,y.gzhead.time>>24&255),K(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),K(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(K(y,255&y.gzhead.extra.length),K(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(a.adler=p(a.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(K(y,0),K(y,0),K(y,0),K(y,0),K(y,0),K(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),K(y,3),y.status=N);else{var U=x+(y.w_bits-8<<4)<<8;U|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(U|=32),U+=31-U%31,y.status=N,G(y,U),y.strstart!==0&&(G(y,a.adler>>>16),G(y,65535&a.adler)),a.adler=1}if(y.status===69)if(y.gzhead.extra){for(b=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>b&&(a.adler=p(a.adler,y.pending_buf,y.pending-b,b)),I(a),b=y.pending,y.pending!==y.pending_buf_size));)K(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>b&&(a.adler=p(a.adler,y.pending_buf,y.pending-b,b)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){b=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>b&&(a.adler=p(a.adler,y.pending_buf,y.pending-b,b)),I(a),b=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,K(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>b&&(a.adler=p(a.adler,y.pending_buf,y.pending-b,b)),S===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){b=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>b&&(a.adler=p(a.adler,y.pending_buf,y.pending-b,b)),I(a),b=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,K(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>b&&(a.adler=p(a.adler,y.pending_buf,y.pending-b,b)),S===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&I(a),y.pending+2<=y.pending_buf_size&&(K(y,255&a.adler),K(y,a.adler>>8&255),a.adler=0,y.status=N)):y.status=N),y.pending!==0){if(I(a),a.avail_out===0)return y.last_flush=-1,f}else if(a.avail_in===0&&H(L)<=H(B)&&L!==g)return tt(a,-5);if(y.status===666&&a.avail_in!==0)return tt(a,-5);if(a.avail_in!==0||y.lookahead!==0||L!==l&&y.status!==666){var F=y.strategy===2?function(z,Z){for(var V;;){if(z.lookahead===0&&(ht(z),z.lookahead===0)){if(Z===l)return o;break}if(z.match_length=0,V=s._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,V&&(T(z,!1),z.strm.avail_out===0))return o}return z.insert=0,Z===g?(T(z,!0),z.strm.avail_out===0?J:j):z.last_lit&&(T(z,!1),z.strm.avail_out===0)?o:M}(y,L):y.strategy===3?function(z,Z){for(var V,Y,$,at,it=z.window;;){if(z.lookahead<=W){if(ht(z),z.lookahead<=W&&Z===l)return o;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=R&&0<z.strstart&&(Y=it[$=z.strstart-1])===it[++$]&&Y===it[++$]&&Y===it[++$]){at=z.strstart+W;do;while(Y===it[++$]&&Y===it[++$]&&Y===it[++$]&&Y===it[++$]&&Y===it[++$]&&Y===it[++$]&&Y===it[++$]&&Y===it[++$]&&$<at);z.match_length=W-(at-$),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=R?(V=s._tr_tally(z,1,z.match_length-R),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(V=s._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),V&&(T(z,!1),z.strm.avail_out===0))return o}return z.insert=0,Z===g?(T(z,!0),z.strm.avail_out===0?J:j):z.last_lit&&(T(z,!1),z.strm.avail_out===0)?o:M}(y,L):e[y.level].func(y,L);if(F!==J&&F!==j||(y.status=666),F===o||F===J)return a.avail_out===0&&(y.last_flush=-1),f;if(F===M&&(L===1?s._tr_align(y):L!==5&&(s._tr_stored_block(y,0,0,!1),L===3&&(Q(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),I(a),a.avail_out===0))return y.last_flush=-1,f}return L!==g?f:y.wrap<=0?1:(y.wrap===2?(K(y,255&a.adler),K(y,a.adler>>8&255),K(y,a.adler>>16&255),K(y,a.adler>>24&255),K(y,255&a.total_in),K(y,a.total_in>>8&255),K(y,a.total_in>>16&255),K(y,a.total_in>>24&255)):(G(y,a.adler>>>16),G(y,65535&a.adler)),I(a),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?f:1)},h.deflateEnd=function(a){var L;return a&&a.state?(L=a.state.status)!==k&&L!==69&&L!==73&&L!==91&&L!==103&&L!==N&&L!==666?tt(a,w):(a.state=null,L===N?tt(a,-3):f):w},h.deflateSetDictionary=function(a,L){var B,y,b,S,U,F,z,Z,V=L.length;if(!a||!a.state||(S=(B=a.state).wrap)===2||S===1&&B.status!==k||B.lookahead)return w;for(S===1&&(a.adler=c(a.adler,L,V,0)),B.wrap=0,V>=B.w_size&&(S===0&&(Q(B.head),B.strstart=0,B.block_start=0,B.insert=0),Z=new n.Buf8(B.w_size),n.arraySet(Z,L,V-B.w_size,B.w_size,0),L=Z,V=B.w_size),U=a.avail_in,F=a.next_in,z=a.input,a.avail_in=V,a.next_in=0,a.input=L,ht(B);B.lookahead>=R;){for(y=B.strstart,b=B.lookahead-(R-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[y+R-1])&B.hash_mask,B.prev[y&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=y,y++,--b;);B.strstart=y,B.lookahead=R-1,ht(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=R-1,B.match_available=0,a.next_in=F,a.input=z,a.avail_in=U,B.wrap=S,f},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,h){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,h){r.exports=function(e,n){var s,c,p,d,l,g,f,w,u,v,m,x,E,D,A,C,O,P,R,W,q,k,N,o,M;s=e.state,c=e.next_in,o=e.input,p=c+(e.avail_in-5),d=e.next_out,M=e.output,l=d-(n-e.avail_out),g=d+(e.avail_out-257),f=s.dmax,w=s.wsize,u=s.whave,v=s.wnext,m=s.window,x=s.hold,E=s.bits,D=s.lencode,A=s.distcode,C=(1<<s.lenbits)-1,O=(1<<s.distbits)-1;t:do{E<15&&(x+=o[c++]<<E,E+=8,x+=o[c++]<<E,E+=8),P=D[x&C];e:for(;;){if(x>>>=R=P>>>24,E-=R,(R=P>>>16&255)===0)M[d++]=65535&P;else{if(!(16&R)){if(!(64&R)){P=D[(65535&P)+(x&(1<<R)-1)];continue e}if(32&R){s.mode=12;break t}e.msg="invalid literal/length code",s.mode=30;break t}W=65535&P,(R&=15)&&(E<R&&(x+=o[c++]<<E,E+=8),W+=x&(1<<R)-1,x>>>=R,E-=R),E<15&&(x+=o[c++]<<E,E+=8,x+=o[c++]<<E,E+=8),P=A[x&O];r:for(;;){if(x>>>=R=P>>>24,E-=R,!(16&(R=P>>>16&255))){if(!(64&R)){P=A[(65535&P)+(x&(1<<R)-1)];continue r}e.msg="invalid distance code",s.mode=30;break t}if(q=65535&P,E<(R&=15)&&(x+=o[c++]<<E,(E+=8)<R&&(x+=o[c++]<<E,E+=8)),f<(q+=x&(1<<R)-1)){e.msg="invalid distance too far back",s.mode=30;break t}if(x>>>=R,E-=R,(R=d-l)<q){if(u<(R=q-R)&&s.sane){e.msg="invalid distance too far back",s.mode=30;break t}if(N=m,(k=0)===v){if(k+=w-R,R<W){for(W-=R;M[d++]=m[k++],--R;);k=d-q,N=M}}else if(v<R){if(k+=w+v-R,(R-=v)<W){for(W-=R;M[d++]=m[k++],--R;);if(k=0,v<W){for(W-=R=v;M[d++]=m[k++],--R;);k=d-q,N=M}}}else if(k+=v-R,R<W){for(W-=R;M[d++]=m[k++],--R;);k=d-q,N=M}for(;2<W;)M[d++]=N[k++],M[d++]=N[k++],M[d++]=N[k++],W-=3;W&&(M[d++]=N[k++],1<W&&(M[d++]=N[k++]))}else{for(k=d-q;M[d++]=M[k++],M[d++]=M[k++],M[d++]=M[k++],2<(W-=3););W&&(M[d++]=M[k++],1<W&&(M[d++]=M[k++]))}break}}break}}while(c<p&&d<g);c-=W=E>>3,x&=(1<<(E-=W<<3))-1,e.next_in=c,e.next_out=d,e.avail_in=c<p?p-c+5:5-(c-p),e.avail_out=d<g?g-d+257:257-(d-g),s.hold=x,s.bits=E}},{}],49:[function(t,r,h){var e=t("../utils/common"),n=t("./adler32"),s=t("./crc32"),c=t("./inffast"),p=t("./inftrees"),d=1,l=2,g=0,f=-2,w=1,u=852,v=592;function m(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(k){var N;return k&&k.state?(N=k.state,k.total_in=k.total_out=N.total=0,k.msg="",N.wrap&&(k.adler=1&N.wrap),N.mode=w,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new e.Buf32(u),N.distcode=N.distdyn=new e.Buf32(v),N.sane=1,N.back=-1,g):f}function D(k){var N;return k&&k.state?((N=k.state).wsize=0,N.whave=0,N.wnext=0,E(k)):f}function A(k,N){var o,M;return k&&k.state?(M=k.state,N<0?(o=0,N=-N):(o=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?f:(M.window!==null&&M.wbits!==N&&(M.window=null),M.wrap=o,M.wbits=N,D(k))):f}function C(k,N){var o,M;return k?(M=new x,(k.state=M).window=null,(o=A(k,N))!==g&&(k.state=null),o):f}var O,P,R=!0;function W(k){if(R){var N;for(O=new e.Buf32(512),P=new e.Buf32(32),N=0;N<144;)k.lens[N++]=8;for(;N<256;)k.lens[N++]=9;for(;N<280;)k.lens[N++]=7;for(;N<288;)k.lens[N++]=8;for(p(d,k.lens,0,288,O,0,k.work,{bits:9}),N=0;N<32;)k.lens[N++]=5;p(l,k.lens,0,32,P,0,k.work,{bits:5}),R=!1}k.lencode=O,k.lenbits=9,k.distcode=P,k.distbits=5}function q(k,N,o,M){var J,j=k.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new e.Buf8(j.wsize)),M>=j.wsize?(e.arraySet(j.window,N,o-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(M<(J=j.wsize-j.wnext)&&(J=M),e.arraySet(j.window,N,o-M,J,j.wnext),(M-=J)?(e.arraySet(j.window,N,o-M,M,0),j.wnext=M,j.whave=j.wsize):(j.wnext+=J,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=J))),0}h.inflateReset=D,h.inflateReset2=A,h.inflateResetKeep=E,h.inflateInit=function(k){return C(k,15)},h.inflateInit2=C,h.inflate=function(k,N){var o,M,J,j,tt,H,Q,I,T,K,G,X,ht,pt,rt,nt,ft,ct,yt,bt,a,L,B,y,b=0,S=new e.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return f;(o=k.state).mode===12&&(o.mode=13),tt=k.next_out,J=k.output,Q=k.avail_out,j=k.next_in,M=k.input,H=k.avail_in,I=o.hold,T=o.bits,K=H,G=Q,L=g;t:for(;;)switch(o.mode){case w:if(o.wrap===0){o.mode=13;break}for(;T<16;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(2&o.wrap&&I===35615){S[o.check=0]=255&I,S[1]=I>>>8&255,o.check=s(o.check,S,2,0),T=I=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&I)<<8)+(I>>8))%31){k.msg="incorrect header check",o.mode=30;break}if((15&I)!=8){k.msg="unknown compression method",o.mode=30;break}if(T-=4,a=8+(15&(I>>>=4)),o.wbits===0)o.wbits=a;else if(a>o.wbits){k.msg="invalid window size",o.mode=30;break}o.dmax=1<<a,k.adler=o.check=1,o.mode=512&I?10:12,T=I=0;break;case 2:for(;T<16;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(o.flags=I,(255&o.flags)!=8){k.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){k.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=I>>8&1),512&o.flags&&(S[0]=255&I,S[1]=I>>>8&255,o.check=s(o.check,S,2,0)),T=I=0,o.mode=3;case 3:for(;T<32;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}o.head&&(o.head.time=I),512&o.flags&&(S[0]=255&I,S[1]=I>>>8&255,S[2]=I>>>16&255,S[3]=I>>>24&255,o.check=s(o.check,S,4,0)),T=I=0,o.mode=4;case 4:for(;T<16;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}o.head&&(o.head.xflags=255&I,o.head.os=I>>8),512&o.flags&&(S[0]=255&I,S[1]=I>>>8&255,o.check=s(o.check,S,2,0)),T=I=0,o.mode=5;case 5:if(1024&o.flags){for(;T<16;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}o.length=I,o.head&&(o.head.extra_len=I),512&o.flags&&(S[0]=255&I,S[1]=I>>>8&255,o.check=s(o.check,S,2,0)),T=I=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(H<(X=o.length)&&(X=H),X&&(o.head&&(a=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),e.arraySet(o.head.extra,M,j,X,a)),512&o.flags&&(o.check=s(o.check,M,X,j)),H-=X,j+=X,o.length-=X),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(H===0)break t;for(X=0;a=M[j+X++],o.head&&a&&o.length<65536&&(o.head.name+=String.fromCharCode(a)),a&&X<H;);if(512&o.flags&&(o.check=s(o.check,M,X,j)),H-=X,j+=X,a)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(H===0)break t;for(X=0;a=M[j+X++],o.head&&a&&o.length<65536&&(o.head.comment+=String.fromCharCode(a)),a&&X<H;);if(512&o.flags&&(o.check=s(o.check,M,X,j)),H-=X,j+=X,a)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;T<16;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(I!==(65535&o.check)){k.msg="header crc mismatch",o.mode=30;break}T=I=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),k.adler=o.check=0,o.mode=12;break;case 10:for(;T<32;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}k.adler=o.check=m(I),T=I=0,o.mode=11;case 11:if(o.havedict===0)return k.next_out=tt,k.avail_out=Q,k.next_in=j,k.avail_in=H,o.hold=I,o.bits=T,2;k.adler=o.check=1,o.mode=12;case 12:if(N===5||N===6)break t;case 13:if(o.last){I>>>=7&T,T-=7&T,o.mode=27;break}for(;T<3;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}switch(o.last=1&I,T-=1,3&(I>>>=1)){case 0:o.mode=14;break;case 1:if(W(o),o.mode=20,N!==6)break;I>>>=2,T-=2;break t;case 2:o.mode=17;break;case 3:k.msg="invalid block type",o.mode=30}I>>>=2,T-=2;break;case 14:for(I>>>=7&T,T-=7&T;T<32;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if((65535&I)!=(I>>>16^65535)){k.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&I,T=I=0,o.mode=15,N===6)break t;case 15:o.mode=16;case 16:if(X=o.length){if(H<X&&(X=H),Q<X&&(X=Q),X===0)break t;e.arraySet(J,M,j,X,tt),H-=X,j+=X,Q-=X,tt+=X,o.length-=X;break}o.mode=12;break;case 17:for(;T<14;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(o.nlen=257+(31&I),I>>>=5,T-=5,o.ndist=1+(31&I),I>>>=5,T-=5,o.ncode=4+(15&I),I>>>=4,T-=4,286<o.nlen||30<o.ndist){k.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;T<3;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}o.lens[U[o.have++]]=7&I,I>>>=3,T-=3}for(;o.have<19;)o.lens[U[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,B={bits:o.lenbits},L=p(0,o.lens,0,19,o.lencode,0,o.work,B),o.lenbits=B.bits,L){k.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;nt=(b=o.lencode[I&(1<<o.lenbits)-1])>>>16&255,ft=65535&b,!((rt=b>>>24)<=T);){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(ft<16)I>>>=rt,T-=rt,o.lens[o.have++]=ft;else{if(ft===16){for(y=rt+2;T<y;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(I>>>=rt,T-=rt,o.have===0){k.msg="invalid bit length repeat",o.mode=30;break}a=o.lens[o.have-1],X=3+(3&I),I>>>=2,T-=2}else if(ft===17){for(y=rt+3;T<y;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}T-=rt,a=0,X=3+(7&(I>>>=rt)),I>>>=3,T-=3}else{for(y=rt+7;T<y;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}T-=rt,a=0,X=11+(127&(I>>>=rt)),I>>>=7,T-=7}if(o.have+X>o.nlen+o.ndist){k.msg="invalid bit length repeat",o.mode=30;break}for(;X--;)o.lens[o.have++]=a}}if(o.mode===30)break;if(o.lens[256]===0){k.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,B={bits:o.lenbits},L=p(d,o.lens,0,o.nlen,o.lencode,0,o.work,B),o.lenbits=B.bits,L){k.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,B={bits:o.distbits},L=p(l,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,B),o.distbits=B.bits,L){k.msg="invalid distances set",o.mode=30;break}if(o.mode=20,N===6)break t;case 20:o.mode=21;case 21:if(6<=H&&258<=Q){k.next_out=tt,k.avail_out=Q,k.next_in=j,k.avail_in=H,o.hold=I,o.bits=T,c(k,G),tt=k.next_out,J=k.output,Q=k.avail_out,j=k.next_in,M=k.input,H=k.avail_in,I=o.hold,T=o.bits,o.mode===12&&(o.back=-1);break}for(o.back=0;nt=(b=o.lencode[I&(1<<o.lenbits)-1])>>>16&255,ft=65535&b,!((rt=b>>>24)<=T);){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(nt&&!(240&nt)){for(ct=rt,yt=nt,bt=ft;nt=(b=o.lencode[bt+((I&(1<<ct+yt)-1)>>ct)])>>>16&255,ft=65535&b,!(ct+(rt=b>>>24)<=T);){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}I>>>=ct,T-=ct,o.back+=ct}if(I>>>=rt,T-=rt,o.back+=rt,o.length=ft,nt===0){o.mode=26;break}if(32&nt){o.back=-1,o.mode=12;break}if(64&nt){k.msg="invalid literal/length code",o.mode=30;break}o.extra=15&nt,o.mode=22;case 22:if(o.extra){for(y=o.extra;T<y;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}o.length+=I&(1<<o.extra)-1,I>>>=o.extra,T-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;nt=(b=o.distcode[I&(1<<o.distbits)-1])>>>16&255,ft=65535&b,!((rt=b>>>24)<=T);){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(!(240&nt)){for(ct=rt,yt=nt,bt=ft;nt=(b=o.distcode[bt+((I&(1<<ct+yt)-1)>>ct)])>>>16&255,ft=65535&b,!(ct+(rt=b>>>24)<=T);){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}I>>>=ct,T-=ct,o.back+=ct}if(I>>>=rt,T-=rt,o.back+=rt,64&nt){k.msg="invalid distance code",o.mode=30;break}o.offset=ft,o.extra=15&nt,o.mode=24;case 24:if(o.extra){for(y=o.extra;T<y;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}o.offset+=I&(1<<o.extra)-1,I>>>=o.extra,T-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){k.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(Q===0)break t;if(X=G-Q,o.offset>X){if((X=o.offset-X)>o.whave&&o.sane){k.msg="invalid distance too far back",o.mode=30;break}ht=X>o.wnext?(X-=o.wnext,o.wsize-X):o.wnext-X,X>o.length&&(X=o.length),pt=o.window}else pt=J,ht=tt-o.offset,X=o.length;for(Q<X&&(X=Q),Q-=X,o.length-=X;J[tt++]=pt[ht++],--X;);o.length===0&&(o.mode=21);break;case 26:if(Q===0)break t;J[tt++]=o.length,Q--,o.mode=21;break;case 27:if(o.wrap){for(;T<32;){if(H===0)break t;H--,I|=M[j++]<<T,T+=8}if(G-=Q,k.total_out+=G,o.total+=G,G&&(k.adler=o.check=o.flags?s(o.check,J,G,tt-G):n(o.check,J,G,tt-G)),G=Q,(o.flags?I:m(I))!==o.check){k.msg="incorrect data check",o.mode=30;break}T=I=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;T<32;){if(H===0)break t;H--,I+=M[j++]<<T,T+=8}if(I!==(4294967295&o.total)){k.msg="incorrect length check",o.mode=30;break}T=I=0}o.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return f}return k.next_out=tt,k.avail_out=Q,k.next_in=j,k.avail_in=H,o.hold=I,o.bits=T,(o.wsize||G!==k.avail_out&&o.mode<30&&(o.mode<27||N!==4))&&q(k,k.output,k.next_out,G-k.avail_out)?(o.mode=31,-4):(K-=k.avail_in,G-=k.avail_out,k.total_in+=K,k.total_out+=G,o.total+=G,o.wrap&&G&&(k.adler=o.check=o.flags?s(o.check,J,G,k.next_out-G):n(o.check,J,G,k.next_out-G)),k.data_type=o.bits+(o.last?64:0)+(o.mode===12?128:0)+(o.mode===20||o.mode===15?256:0),(K==0&&G===0||N===4)&&L===g&&(L=-5),L)},h.inflateEnd=function(k){if(!k||!k.state)return f;var N=k.state;return N.window&&(N.window=null),k.state=null,g},h.inflateGetHeader=function(k,N){var o;return k&&k.state&&2&(o=k.state).wrap?((o.head=N).done=!1,g):f},h.inflateSetDictionary=function(k,N){var o,M=N.length;return k&&k.state?(o=k.state).wrap!==0&&o.mode!==11?f:o.mode===11&&n(1,N,M,0)!==o.check?-3:q(k,N,M,M)?(o.mode=31,-4):(o.havedict=1,g):f},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,h){var e=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,l,g,f,w,u,v,m){var x,E,D,A,C,O,P,R,W,q=m.bits,k=0,N=0,o=0,M=0,J=0,j=0,tt=0,H=0,Q=0,I=0,T=null,K=0,G=new e.Buf16(16),X=new e.Buf16(16),ht=null,pt=0;for(k=0;k<=15;k++)G[k]=0;for(N=0;N<f;N++)G[l[g+N]]++;for(J=q,M=15;1<=M&&G[M]===0;M--);if(M<J&&(J=M),M===0)return w[u++]=20971520,w[u++]=20971520,m.bits=1,0;for(o=1;o<M&&G[o]===0;o++);for(J<o&&(J=o),k=H=1;k<=15;k++)if(H<<=1,(H-=G[k])<0)return-1;if(0<H&&(d===0||M!==1))return-1;for(X[1]=0,k=1;k<15;k++)X[k+1]=X[k]+G[k];for(N=0;N<f;N++)l[g+N]!==0&&(v[X[l[g+N]]++]=N);if(O=d===0?(T=ht=v,19):d===1?(T=n,K-=257,ht=s,pt-=257,256):(T=c,ht=p,-1),k=o,C=u,tt=N=I=0,D=-1,A=(Q=1<<(j=J))-1,d===1&&852<Q||d===2&&592<Q)return 1;for(;;){for(P=k-tt,W=v[N]<O?(R=0,v[N]):v[N]>O?(R=ht[pt+v[N]],T[K+v[N]]):(R=96,0),x=1<<k-tt,o=E=1<<j;w[C+(I>>tt)+(E-=x)]=P<<24|R<<16|W|0,E!==0;);for(x=1<<k-1;I&x;)x>>=1;if(x!==0?(I&=x-1,I+=x):I=0,N++,--G[k]==0){if(k===M)break;k=l[g+v[N]]}if(J<k&&(I&A)!==D){for(tt===0&&(tt=J),C+=o,H=1<<(j=k-tt);j+tt<M&&!((H-=G[j+tt])<=0);)j++,H<<=1;if(Q+=1<<j,d===1&&852<Q||d===2&&592<Q)return 1;w[D=I&A]=J<<24|j<<16|C-u|0}}return I!==0&&(w[C+I]=k-tt<<24|64<<16|0),m.bits=J,0}},{"../utils/common":41}],51:[function(t,r,h){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,h){var e=t("../utils/common"),n=0,s=1;function c(b){for(var S=b.length;0<=--S;)b[S]=0}var p=0,d=29,l=256,g=l+1+d,f=30,w=19,u=2*g+1,v=15,m=16,x=7,E=256,D=16,A=17,C=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(g+2));c(q);var k=new Array(2*f);c(k);var N=new Array(512);c(N);var o=new Array(256);c(o);var M=new Array(d);c(M);var J,j,tt,H=new Array(f);function Q(b,S,U,F,z){this.static_tree=b,this.extra_bits=S,this.extra_base=U,this.elems=F,this.max_length=z,this.has_stree=b&&b.length}function I(b,S){this.dyn_tree=b,this.max_code=0,this.stat_desc=S}function T(b){return b<256?N[b]:N[256+(b>>>7)]}function K(b,S){b.pending_buf[b.pending++]=255&S,b.pending_buf[b.pending++]=S>>>8&255}function G(b,S,U){b.bi_valid>m-U?(b.bi_buf|=S<<b.bi_valid&65535,K(b,b.bi_buf),b.bi_buf=S>>m-b.bi_valid,b.bi_valid+=U-m):(b.bi_buf|=S<<b.bi_valid&65535,b.bi_valid+=U)}function X(b,S,U){G(b,U[2*S],U[2*S+1])}function ht(b,S){for(var U=0;U|=1&b,b>>>=1,U<<=1,0<--S;);return U>>>1}function pt(b,S,U){var F,z,Z=new Array(v+1),V=0;for(F=1;F<=v;F++)Z[F]=V=V+U[F-1]<<1;for(z=0;z<=S;z++){var Y=b[2*z+1];Y!==0&&(b[2*z]=ht(Z[Y]++,Y))}}function rt(b){var S;for(S=0;S<g;S++)b.dyn_ltree[2*S]=0;for(S=0;S<f;S++)b.dyn_dtree[2*S]=0;for(S=0;S<w;S++)b.bl_tree[2*S]=0;b.dyn_ltree[2*E]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function nt(b){8<b.bi_valid?K(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function ft(b,S,U,F){var z=2*S,Z=2*U;return b[z]<b[Z]||b[z]===b[Z]&&F[S]<=F[U]}function ct(b,S,U){for(var F=b.heap[U],z=U<<1;z<=b.heap_len&&(z<b.heap_len&&ft(S,b.heap[z+1],b.heap[z],b.depth)&&z++,!ft(S,F,b.heap[z],b.depth));)b.heap[U]=b.heap[z],U=z,z<<=1;b.heap[U]=F}function yt(b,S,U){var F,z,Z,V,Y=0;if(b.last_lit!==0)for(;F=b.pending_buf[b.d_buf+2*Y]<<8|b.pending_buf[b.d_buf+2*Y+1],z=b.pending_buf[b.l_buf+Y],Y++,F===0?X(b,z,S):(X(b,(Z=o[z])+l+1,S),(V=O[Z])!==0&&G(b,z-=M[Z],V),X(b,Z=T(--F),U),(V=P[Z])!==0&&G(b,F-=H[Z],V)),Y<b.last_lit;);X(b,E,S)}function bt(b,S){var U,F,z,Z=S.dyn_tree,V=S.stat_desc.static_tree,Y=S.stat_desc.has_stree,$=S.stat_desc.elems,at=-1;for(b.heap_len=0,b.heap_max=u,U=0;U<$;U++)Z[2*U]!==0?(b.heap[++b.heap_len]=at=U,b.depth[U]=0):Z[2*U+1]=0;for(;b.heap_len<2;)Z[2*(z=b.heap[++b.heap_len]=at<2?++at:0)]=1,b.depth[z]=0,b.opt_len--,Y&&(b.static_len-=V[2*z+1]);for(S.max_code=at,U=b.heap_len>>1;1<=U;U--)ct(b,Z,U);for(z=$;U=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ct(b,Z,1),F=b.heap[1],b.heap[--b.heap_max]=U,b.heap[--b.heap_max]=F,Z[2*z]=Z[2*U]+Z[2*F],b.depth[z]=(b.depth[U]>=b.depth[F]?b.depth[U]:b.depth[F])+1,Z[2*U+1]=Z[2*F+1]=z,b.heap[1]=z++,ct(b,Z,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(it,vt){var Lt,xt,Pt,lt,Gt,ie,Ct=vt.dyn_tree,Ee=vt.max_code,sr=vt.stat_desc.static_tree,or=vt.stat_desc.has_stree,hr=vt.stat_desc.extra_bits,Ce=vt.stat_desc.extra_base,Ut=vt.stat_desc.max_length,Vt=0;for(lt=0;lt<=v;lt++)it.bl_count[lt]=0;for(Ct[2*it.heap[it.heap_max]+1]=0,Lt=it.heap_max+1;Lt<u;Lt++)Ut<(lt=Ct[2*Ct[2*(xt=it.heap[Lt])+1]+1]+1)&&(lt=Ut,Vt++),Ct[2*xt+1]=lt,Ee<xt||(it.bl_count[lt]++,Gt=0,Ce<=xt&&(Gt=hr[xt-Ce]),ie=Ct[2*xt],it.opt_len+=ie*(lt+Gt),or&&(it.static_len+=ie*(sr[2*xt+1]+Gt)));if(Vt!==0){do{for(lt=Ut-1;it.bl_count[lt]===0;)lt--;it.bl_count[lt]--,it.bl_count[lt+1]+=2,it.bl_count[Ut]--,Vt-=2}while(0<Vt);for(lt=Ut;lt!==0;lt--)for(xt=it.bl_count[lt];xt!==0;)Ee<(Pt=it.heap[--Lt])||(Ct[2*Pt+1]!==lt&&(it.opt_len+=(lt-Ct[2*Pt+1])*Ct[2*Pt],Ct[2*Pt+1]=lt),xt--)}}(b,S),pt(Z,at,b.bl_count)}function a(b,S,U){var F,z,Z=-1,V=S[1],Y=0,$=7,at=4;for(V===0&&($=138,at=3),S[2*(U+1)+1]=65535,F=0;F<=U;F++)z=V,V=S[2*(F+1)+1],++Y<$&&z===V||(Y<at?b.bl_tree[2*z]+=Y:z!==0?(z!==Z&&b.bl_tree[2*z]++,b.bl_tree[2*D]++):Y<=10?b.bl_tree[2*A]++:b.bl_tree[2*C]++,Z=z,at=(Y=0)===V?($=138,3):z===V?($=6,3):($=7,4))}function L(b,S,U){var F,z,Z=-1,V=S[1],Y=0,$=7,at=4;for(V===0&&($=138,at=3),F=0;F<=U;F++)if(z=V,V=S[2*(F+1)+1],!(++Y<$&&z===V)){if(Y<at)for(;X(b,z,b.bl_tree),--Y!=0;);else z!==0?(z!==Z&&(X(b,z,b.bl_tree),Y--),X(b,D,b.bl_tree),G(b,Y-3,2)):Y<=10?(X(b,A,b.bl_tree),G(b,Y-3,3)):(X(b,C,b.bl_tree),G(b,Y-11,7));Z=z,at=(Y=0)===V?($=138,3):z===V?($=6,3):($=7,4)}}c(H);var B=!1;function y(b,S,U,F){G(b,(p<<1)+(F?1:0),3),function(z,Z,V,Y){nt(z),Y&&(K(z,V),K(z,~V)),e.arraySet(z.pending_buf,z.window,Z,V,z.pending),z.pending+=V}(b,S,U,!0)}h._tr_init=function(b){B||(function(){var S,U,F,z,Z,V=new Array(v+1);for(z=F=0;z<d-1;z++)for(M[z]=F,S=0;S<1<<O[z];S++)o[F++]=z;for(o[F-1]=z,z=Z=0;z<16;z++)for(H[z]=Z,S=0;S<1<<P[z];S++)N[Z++]=z;for(Z>>=7;z<f;z++)for(H[z]=Z<<7,S=0;S<1<<P[z]-7;S++)N[256+Z++]=z;for(U=0;U<=v;U++)V[U]=0;for(S=0;S<=143;)q[2*S+1]=8,S++,V[8]++;for(;S<=255;)q[2*S+1]=9,S++,V[9]++;for(;S<=279;)q[2*S+1]=7,S++,V[7]++;for(;S<=287;)q[2*S+1]=8,S++,V[8]++;for(pt(q,g+1,V),S=0;S<f;S++)k[2*S+1]=5,k[2*S]=ht(S,5);J=new Q(q,O,l+1,g,v),j=new Q(k,P,0,f,v),tt=new Q(new Array(0),R,0,w,x)}(),B=!0),b.l_desc=new I(b.dyn_ltree,J),b.d_desc=new I(b.dyn_dtree,j),b.bl_desc=new I(b.bl_tree,tt),b.bi_buf=0,b.bi_valid=0,rt(b)},h._tr_stored_block=y,h._tr_flush_block=function(b,S,U,F){var z,Z,V=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(Y){var $,at=4093624447;for($=0;$<=31;$++,at>>>=1)if(1&at&&Y.dyn_ltree[2*$]!==0)return n;if(Y.dyn_ltree[18]!==0||Y.dyn_ltree[20]!==0||Y.dyn_ltree[26]!==0)return s;for($=32;$<l;$++)if(Y.dyn_ltree[2*$]!==0)return s;return n}(b)),bt(b,b.l_desc),bt(b,b.d_desc),V=function(Y){var $;for(a(Y,Y.dyn_ltree,Y.l_desc.max_code),a(Y,Y.dyn_dtree,Y.d_desc.max_code),bt(Y,Y.bl_desc),$=w-1;3<=$&&Y.bl_tree[2*W[$]+1]===0;$--);return Y.opt_len+=3*($+1)+5+5+4,$}(b),z=b.opt_len+3+7>>>3,(Z=b.static_len+3+7>>>3)<=z&&(z=Z)):z=Z=U+5,U+4<=z&&S!==-1?y(b,S,U,F):b.strategy===4||Z===z?(G(b,2+(F?1:0),3),yt(b,q,k)):(G(b,4+(F?1:0),3),function(Y,$,at,it){var vt;for(G(Y,$-257,5),G(Y,at-1,5),G(Y,it-4,4),vt=0;vt<it;vt++)G(Y,Y.bl_tree[2*W[vt]+1],3);L(Y,Y.dyn_ltree,$-1),L(Y,Y.dyn_dtree,at-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,V+1),yt(b,b.dyn_ltree,b.dyn_dtree)),rt(b),F&&nt(b)},h._tr_tally=function(b,S,U){return b.pending_buf[b.d_buf+2*b.last_lit]=S>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&S,b.pending_buf[b.l_buf+b.last_lit]=255&U,b.last_lit++,S===0?b.dyn_ltree[2*U]++:(b.matches++,S--,b.dyn_ltree[2*(o[U]+l+1)]++,b.dyn_dtree[2*T(S)]++),b.last_lit===b.lit_bufsize-1},h._tr_align=function(b){G(b,2,3),X(b,E,q),function(S){S.bi_valid===16?(K(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(t,r,h){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,h){(function(e){(function(n,s){if(!n.setImmediate){var c,p,d,l,g=1,f={},w=!1,u=n.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(n);v=v&&v.setTimeout?v:n,c={}.toString.call(n.process)==="[object process]"?function(D){process.nextTick(function(){x(D)})}:function(){if(n.postMessage&&!n.importScripts){var D=!0,A=n.onmessage;return n.onmessage=function(){D=!1},n.postMessage("","*"),n.onmessage=A,D}}()?(l="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",E,!1):n.attachEvent("onmessage",E),function(D){n.postMessage(l+D,"*")}):n.MessageChannel?((d=new MessageChannel).port1.onmessage=function(D){x(D.data)},function(D){d.port2.postMessage(D)}):u&&"onreadystatechange"in u.createElement("script")?(p=u.documentElement,function(D){var A=u.createElement("script");A.onreadystatechange=function(){x(D),A.onreadystatechange=null,p.removeChild(A),A=null},p.appendChild(A)}):function(D){setTimeout(x,0,D)},v.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var A=new Array(arguments.length-1),C=0;C<A.length;C++)A[C]=arguments[C+1];var O={callback:D,args:A};return f[g]=O,c(g),g++},v.clearImmediate=m}function m(D){delete f[D]}function x(D){if(w)setTimeout(x,0,D);else{var A=f[D];if(A){w=!0;try{(function(C){var O=C.callback,P=C.args;switch(P.length){case 0:O();break;case 1:O(P[0]);break;case 2:O(P[0],P[1]);break;case 3:O(P[0],P[1],P[2]);break;default:O.apply(s,P)}})(A)}finally{m(D),w=!1}}}}function E(D){D.source===n&&typeof D.data=="string"&&D.data.indexOf(l)===0&&x(+D.data.slice(l.length))}})(typeof self>"u"?e===void 0?this:e:self)}).call(this,typeof $t<"u"?$t:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ar);var Qr=ar.exports;const ti=Jr(Qr);const ei=document.querySelector("#okbtn"),ri=document.querySelector("#savebtn"),ii=document.querySelector("#previewbox"),ni=document.querySelector("#previewImgs"),We=document.querySelector("#img"),ai=document.querySelector("#fileinput"),ge=[];let ke,ve,te="demo_",Qt="";const si=()=>{We.src="https://pic3.zhimg.com/v2-7a46e8eea5e4300424cd5bce11cc3e6e_r.jpg",ke=new nr(We,{preview:ii,autoCrop:!0,viewMode:1,scalable:!0,dragMode:"move",responsive:!0}),ve=new ti};ei.onclick=()=>{const _=ke.getCroppedCanvas().toDataURL("image/png"),i=hi(_,"");ge.push(i),oi(_)};ri.onclick=()=>{if(ge.length<=0)return;const _=ve.folder(te);let i=document.createElement("a");document.body.appendChild(i),ge.forEach((t,r)=>{_==null||_.file(`${te}_${r}.png`,t)}),ve.generateAsync({type:"blob"}).then(t=>{const r=window.URL.createObjectURL(t);i.href=r,i.download=`${te}_cropped.zip`,i.click()}),URL.revokeObjectURL(i.href),document.body.removeChild(i)};ai.onchange=_=>{Qt!==""&&URL.revokeObjectURL(Qt);const i=_.target.files[0];i&&(te=i.name.split(".").shift(),Qt=URL.createObjectURL(i),ke.replace(Qt))};function oi(_){const i=document.createElement("img");i.src=_,i.style.width="100px",i.style.height="100px",i.style.objectFit="scale-down",ni.append(i)}function hi(_,i){let t=_.split(","),r=t[0].match(/:(.*?);/);const h=r?r[1]:"";let e=atob(t[1]),n=e.length,s=new Uint8Array(n);for(;n--;)s[n]=e.charCodeAt(n);return new File([s],i,{type:h})}si();
