var Ce=Object.defineProperty;var ke=(n,e,t)=>e in n?Ce(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var M=(n,e,t)=>(ke(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function k(){}const Re=n=>n;function xe(n,e){for(const t in e)n[t]=e[t];return n}function $e(n){return n()}function he(){return Object.create(null)}function x(n){n.forEach($e)}function oe(n){return typeof n=="function"}function Z(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Ke(n){return Object.keys(n).length===0}function Ie(n,e,t,i){if(n){const r=ye(n,e,t,i);return n[0](r)}}function ye(n,e,t,i){return n[1]&&i?xe(t.ctx.slice(),n[1](i(e))):t.ctx}function Ge(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(e.dirty.length,r.length);for(let l=0;l<o;l+=1)s[l]=e.dirty[l]|r[l];return s}return e.dirty|r}return e.dirty}function He(n,e,t,i,r,s){if(r){const o=ye(e,t,i,s);n.p(o,r)}}function Ue(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}const Oe=typeof window<"u";let De=Oe?()=>window.performance.now():()=>Date.now(),fe=Oe?n=>requestAnimationFrame(n):k;const U=new Set;function Be(n){U.forEach(e=>{e.c(n)||(U.delete(e),e.f())}),U.size!==0&&fe(Be)}function We(n){let e;return U.size===0&&fe(Be),{promise:new Promise(t=>{U.add(e={c:n,f:t})}),abort(){U.delete(e)}}}function w(n,e){n.appendChild(e)}function Me(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function je(n){const e=y("style");return e.textContent="/* empty */",Se(Me(n),e),e.sheet}function Se(n,e){return w(n.head||n,e),e.sheet}function K(n,e,t){n.insertBefore(e,t||null)}function C(n){n.parentNode&&n.parentNode.removeChild(n)}function Ne(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function y(n){return document.createElement(n)}function H(n){return document.createTextNode(n)}function D(){return H(" ")}function Fe(){return H("")}function re(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function O(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function qe(n){return Array.from(n.childNodes)}function ze(n,e){e=""+e,n.data!==e&&(n.data=e)}function de(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function Ve(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}const z=new Map;let V=0;function Xe(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Je(n,e){const t={stylesheet:je(e),rules:{}};return z.set(n,t),t}function _e(n,e,t,i,r,s,o,l=0){const f=16.666/i;let c=`{
`;for(let A=0;A<=1;A+=f){const a=e+(t-e)*s(A);c+=A*100+`%{${o(a,1-a)}}
`}const d=c+`100% {${o(t,1-t)}}
}`,h=`__svelte_${Xe(d)}_${l}`,P=Me(n),{stylesheet:g,rules:_}=z.get(P)||Je(P,n);_[h]||(_[h]=!0,g.insertRule(`@keyframes ${h} ${d}`,g.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${h} ${i}ms linear ${r}ms 1 both`,V+=1,h}function Qe(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=t.length-i.length;r&&(n.style.animation=i.join(", "),V-=r,V||Ze())}function Ze(){fe(()=>{V||(z.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&C(e)}),z.clear())})}let ce;function S(n){ce=n}const G=[],ge=[];let W=[];const me=[],et=Promise.resolve();let se=!1;function tt(){se||(se=!0,et.then(Te))}function F(n){W.push(n)}const ne=new Set;let I=0;function Te(){if(I!==0)return;const n=ce;do{try{for(;I<G.length;){const e=G[I];I++,S(e),nt(e.$$)}}catch(e){throw G.length=0,I=0,e}for(S(null),G.length=0,I=0;ge.length;)ge.pop()();for(let e=0;e<W.length;e+=1){const t=W[e];ne.has(t)||(ne.add(t),t())}W.length=0}while(G.length);for(;me.length;)me.pop()();se=!1,ne.clear(),S(n)}function nt(n){if(n.fragment!==null){n.update(),x(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(F)}}function it(n){const e=[],t=[];W.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),W=e}let j;function rt(){return j||(j=Promise.resolve(),j.then(()=>{j=null})),j}function ie(n,e,t){n.dispatchEvent(Ve(`${e?"intro":"outro"}${t}`))}const q=new Set;let Y;function ae(){Y={r:0,c:[],p:Y}}function ue(){Y.r||x(Y.c),Y=Y.p}function B(n,e){n&&n.i&&(q.delete(n),n.i(e))}function T(n,e,t,i){if(n&&n.o){if(q.has(n))return;q.add(n),Y.c.push(()=>{q.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const st={duration:0};function Ae(n,e,t,i){let s=e(n,t,{direction:"both"}),o=i?0:1,l=null,f=null,c=null,d;function h(){c&&Qe(n,c)}function P(_,b){const A=_.b-o;return b*=Math.abs(A),{a:o,b:_.b,d:A,duration:b,start:_.start,end:_.start+b,group:_.group}}function g(_){const{delay:b=0,duration:A=300,easing:a=Re,tick:u=k,css:N}=s||st,m={start:De()+b,b:_};_||(m.group=Y,Y.r+=1),"inert"in n&&(_?d!==void 0&&(n.inert=d):(d=n.inert,n.inert=!0)),l||f?f=m:(N&&(h(),c=_e(n,o,_,A,b,a,N)),_&&u(0,1),l=P(m,A),F(()=>ie(n,_,"start")),We(v=>{if(f&&v>f.start&&(l=P(f,A),f=null,ie(n,l.b,"start"),N&&(h(),c=_e(n,o,l.b,l.duration,0,a,s.css))),l){if(v>=l.end)u(o=l.b,1-o),ie(n,l.b,"end"),f||(l.b?h():--l.group.r||x(l.group.c)),l=null;else if(v>=l.start){const $=v-l.start;o=l.a+l.d*a($/l.duration),u(o,1-o)}}return!!(l||f)}))}return{run(_){oe(s)?rt().then(()=>{s=s({direction:_?"in":"out"}),g(_)}):g(_)},end(){h(),l=f=null}}}function X(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function le(n){n&&n.c()}function J(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),F(()=>{const s=n.$$.on_mount.map($e).filter(oe);n.$$.on_destroy?n.$$.on_destroy.push(...s):x(s),n.$$.on_mount=[]}),r.forEach(F)}function Q(n,e){const t=n.$$;t.fragment!==null&&(it(t.after_update),x(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function lt(n,e){n.$$.dirty[0]===-1&&(G.push(n),tt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ee(n,e,t,i,r,s,o,l=[-1]){const f=ce;S(n);const c=n.$$={fragment:null,ctx:[],props:s,update:k,not_equal:r,bound:he(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:he(),dirty:l,skip_bound:!1,root:e.target||f.$$.root};o&&o(c.root);let d=!1;if(c.ctx=t?t(n,e.props||{},(h,P,...g)=>{const _=g.length?g[0]:P;return c.ctx&&r(c.ctx[h],c.ctx[h]=_)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](_),d&&lt(n,h)),P}):[],c.update(),d=!0,x(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const h=qe(e.target);c.fragment&&c.fragment.l(h),h.forEach(C)}else c.fragment&&c.fragment.c();e.intro&&B(n.$$.fragment),J(n,e.target,e.anchor),Te()}S(f)}class te{constructor(){M(this,"$$");M(this,"$$set")}$destroy(){Q(this,1),this.$destroy=k}$on(e,t){if(!oe(t))return k;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Ke(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ot="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ot);var E=(n=>(n.WHITE_GO="WHITE_GO",n.BLACK_GO="BLACK_GO",n.CHANGE_PLAYER="CHANGE_PLAYER",n.GAME_OVER="GAME_OVER",n.RESTART="RESTART",n.AIPLAY="AIPLAY",n.AIGO="AIGO",n))(E||{}),R=(n=>(n[n.BLANK=0]="BLANK",n[n.BLACK=1]="BLACK",n[n.WHITE=2]="WHITE",n))(R||{});class ft{constructor(){M(this,"eventDic",new Map)}on(e,t,i){var r;this.eventDic.has(e)?(r=this.eventDic.get(e))==null||r.push({func:t,ctx:i}):this.eventDic.set(e,[{func:t,ctx:i}])}off(e,t){var i,r;if(this.eventDic.has(e)){const s=((i=this.eventDic.get(e))==null?void 0:i.findIndex(o=>t===o.func))||-1;s>-1&&((r=this.eventDic.get(e))==null||r.splice(s,1))}}emit(e,...t){var i;this.eventDic.has(e)&&((i=this.eventDic.get(e))==null||i.forEach(({func:r,ctx:s})=>{s?r.apply(s,t):r(...t)}))}clear(){this.eventDic.clear()}}const L=new ft;const ct=n=>({}),pe=n=>({});function at(n){let e,t,i,r;const s=n[1].content,o=Ie(s,n,n[0],pe);return{c(){e=y("div"),t=y("div"),t.textContent="五子棋",i=D(),o&&o.c(),O(t,"class","title svelte-33pafs"),O(e,"class","board svelte-33pafs")},m(l,f){K(l,e,f),w(e,t),w(e,i),o&&o.m(e,null),r=!0},p(l,[f]){o&&o.p&&(!r||f&1)&&He(o,s,l,l[0],r?Ge(s,l[0],f,ct):Ue(l[0]),pe)},i(l){r||(B(o,l),r=!0)},o(l){T(o,l),r=!1},d(l){l&&C(e),o&&o.d(l)}}}function ut(n,e,t){let{$$slots:i={},$$scope:r}=e;return n.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,i]}class ht extends te{constructor(e){super(),ee(this,e,ut,at,Z,{})}}class dt{constructor(e=3){M(this,"dirs",[[0,1],[1,0],[1,-1],[1,1]]);M(this,"deep",3);M(this,"PLAYER_TYPE",{BLANK:0,HUMAN:1,COMPUTER:2});M(this,"firstHand",!1);this.PLAYER_TYPE.BLANK,this.deep=e,L.on(E.CHANGE_PLAYER,this.go,this),L.on(E.RESTART,this.restart,this)}restart(){this.firstHand&&(p.currentPlayer=R.BLACK,setTimeout(()=>{L.emit(E.AIPLAY,7,7)},2e3))}setFH(e){this.firstHand=e,e?this.PLAYER_TYPE={BLANK:0,HUMAN:2,COMPUTER:1}:this.PLAYER_TYPE={BLANK:0,HUMAN:1,COMPUTER:2}}isInBoard(e){return e[0]>=0&&e[0]<15&&e[1]>=0&&e[1]<15}newPoint(e,t,i){return[e[0]+t[0]*i,e[1]+t[1]*i]}valuate(e,t){let i=0,r=0,s=0,o=0,l=0,f=0,c=0,d=0,h=0,P=0;const g=3-t;for(let _=0;_<4;_++){const b=this.dirs[_];let A=1,a=new Array(5),u=new Array(5),N=e,m=this.newPoint(e,b,-1);for(;this.isInBoard(m)&&p.board[m[0]][m[1]]==t;)N=m,m=this.newPoint(m,b,-1),A++;let v=e;for(m=this.newPoint(e,b,1);this.isInBoard(m)&&p.board[m[0]][m[1]]==t;)v=m,m=this.newPoint(m,b,1),A++;for(let $=0;$<5;$++)m=this.newPoint(N,b,-$),this.isInBoard(m)?a[$]=p.board[m[0]][m[1]]:a[$]=g,m=this.newPoint(v,b,$),this.isInBoard(m)?u[$]=p.board[m[0]][m[1]]:u[$]=g;A>=5?i++:A==4?a[1]==0&&u[1]==0?r++:(a[1]==0||u[1]==0)&&s++:A==3?a[1]==0&&u[1]==0?a[2]==g&&u[2]==g?f++:a[2]==t||u[2]==t?o++:(a[2]==0||u[2]==0)&&l++:(a[1]==0||u[1]==0)&&(a[1]==g&&(u[2]==g,u[2]==0&&f++,u[2]==t&&o++),u[1]==g&&(a[2]==g,a[2]==0&&f++,a[2]==t&&o++)):A==2?a[1]==0&&u[1]==0?u[2]==0&&u[3]==t||a[2]==0&&a[3]==t?f++:a[2]==0&&u[2]==0?d++:u[2]==t&&u[3]==g||a[2]==t&&a[3]==g?f++:u[2]==t&&u[3]==t||a[2]==t&&a[3]==t?o++:(u[2]==t&&u[3]==0||a[2]==t&&a[3]==0)&&c++:(a[1]==0||u[1]==0)&&(a[1]==g&&(u[2]==g||u[3]==g||(u[2]==0&&u[3]==0?P++:u[2]==t&&u[3]==t?o++:(u[2]==t||u[3]==t)&&f++)),u[1]==g&&(a[2]==g||a[3]==g||(a[2]==0&&a[3]==0?P++:a[2]==t&&a[3]==t?o++:(a[2]==t||a[3]==t)&&f++))):A==1&&(a[1]==0&&a[2]==t&&a[3]==t&&a[4]==t||u[1]==0&&u[2]==t&&u[3]==t&&u[4]==t?o++:a[1]==0&&a[2]==t&&a[3]==t&&a[4]==0&&u[1]==0||u[1]==0&&u[2]==t&&u[3]==t&&u[4]==0&&a[1]==0?c++:a[1]==0&&a[2]==t&&a[3]==t&&a[4]==g&&u[1]==0||u[1]==0&&u[2]==t&&u[3]==t&&u[4]==g&&a[1]==0||a[1]==0&&a[2]==0&&a[3]==t&&a[4]==t||u[1]==0&&u[2]==0&&u[3]==t&&u[4]==t||a[1]==0&&a[2]==t&&a[3]==0&&a[4]==t||u[1]==0&&u[2]==t&&u[3]==0&&u[4]==t?f++:(a[1]==0&&a[2]==t&&a[3]==0&&a[4]==0&&u[1]==0||u[1]==0&&u[2]==t&&u[3]==0&&u[4]==0&&a[1]==0||a[1]==0&&a[2]==0&&a[3]==t&&a[4]==0&&u[1]==0||u[1]==0&&u[2]==0&&u[3]==t&&u[4]==0&&a[1]==0)&&h++)}return i>=1?1e5:r>=1?2e4:l>=2?1e4:s>=1&&l>=1||s>=2?5e3:f>=1&&l>=1?1e3:s>=1?500:o>=1?400:l>=1?100:c>=1?90:d>=2?50:d>=1?10:h>=1?9:f>=1?5:P>=1?2:1}gen(){let e=[],t=[],i=0,r=0;for(let s=0;s<5;s++)t[s]=new Array;for(let s=0;s<15;s++)for(let o=0;o<15;o++)if(p.board[s][o]==this.PLAYER_TYPE.BLANK){for(let l=0;l<5;l++)for(let f=0;f<5;f++)if(!(s-2+f<0||o-2+l<0||s-2+f>=15||o-2+l>=15)&&p.board[s-2+f][o-2+l]!=this.PLAYER_TYPE.BLANK){l=5;const c=[s,o];i=this.valuate(c,this.PLAYER_TYPE.HUMAN),r=this.valuate(c,this.PLAYER_TYPE.COMPUTER),i==1e5||r==1e5?t[0].push(c):i==2e4||r==2e4?t[1].push(c):i==1e4||r==1e4?t[2].push(c):p.N>=10&&(i>=400||r>=500)?t[3].push(c):p.N>=10&&(i>=50||r>=90)?t[4].push(c):e.push(c);break}}return t[0].length!=0?t[0]:t[1].length!=0?t[1]:t[2].length!=0?t[2]:p.N>=10?t[3].concat(t[4].concat(e)):e}min(e,t,i,r){if(e<=0)return t;let s=1e6,o=this.gen();for(;o.length!=0;){const l=o.shift();p.board[l[0]][l[1]]=this.PLAYER_TYPE.HUMAN,t=t-this.valuate(l,this.PLAYER_TYPE.HUMAN);let f=this.max(e-1,t,s<i?s:i,r);if(p.board[l[0]][l[1]]=this.PLAYER_TYPE.BLANK,f<s&&(s=f),f<r)break}return s}max(e,t,i,r){if(e<=0)return t;let s=-1e6,o=this.gen();for(;o.length!=0;){const l=o.shift();p.board[l[0]][l[1]]=this.PLAYER_TYPE.COMPUTER,t=t+this.valuate(l,this.PLAYER_TYPE.COMPUTER);let f=this.min(e-1,t,i,s>r?s:r);if(p.board[l[0]][l[1]]=0,f>s&&(s=f),f>i)break}return s}minimax(e){return new Promise((t,i)=>{let r=-1e6,s=1e6,o=-1e6,l=this.gen(),f=[],c;for(;l.length!=0;){if(c=l.shift(),p.board[c[0]][c[1]]=this.PLAYER_TYPE.COMPUTER,p.isEnd(c[0],c[1])){p.board[c[0]][c[1]]=this.PLAYER_TYPE.BLANK,t(c);return}if(p.board[c[0]][c[1]]=this.PLAYER_TYPE.HUMAN,p.isEnd(c[0],c[1])){p.board[c[0]][c[1]]=this.PLAYER_TYPE.BLANK,t(c);return}p.board[c[0]][c[1]]=this.PLAYER_TYPE.COMPUTER;let h=this.valuate(c,this.PLAYER_TYPE.COMPUTER),P=this.min(e-1,h,s,o);P>r&&(r=P,f=[],f.push(c)),P==r&&f.push(c),p.board[c[0]][c[1]]=this.PLAYER_TYPE.BLANK}const d=Math.floor(Math.random()*f.length);t(f[d])})}async go(e){if(e!==this.PLAYER_TYPE.COMPUTER)return;const[t,i]=await this.minimax(this.deep);L.emit(E.AIPLAY,t,i)}}class _t{constructor(){M(this,"board",[]);M(this,"N",0);M(this,"isOver",!1);M(this,"currentPlayer",1);this.init(),L.on(E.WHITE_GO,this.playWhiteChess,this),L.on(E.BLACK_GO,this.playBlackChess,this),L.on(E.RESTART,this.init,this)}init(){this.board=[];for(let e=0;e<15;e++){this.board.push([]);for(let t=0;t<15;t++)this.board[e].push(0)}this.currentPlayer=1,this.isOver=!1}isValid(e,t){return!this.isOver&&e<15&&e>=0&&t<15&&t>=0&&this.board[e][t]===R.BLANK}playWhiteChess(e,t){if(this.board[e][t]=R.WHITE,this.isOver=this.isEnd(e,t),this.isOver){L.emit(E.GAME_OVER,R.WHITE);return}this.changePlayer()}playBlackChess(e,t){if(this.board[e][t]=R.BLACK,this.isOver=this.isEnd(e,t),this.isOver){L.emit(E.GAME_OVER,R.BLACK);return}this.changePlayer()}changePlayer(){this.N++,this.currentPlayer=3-this.currentPlayer,L.emit(E.CHANGE_PLAYER,this.currentPlayer)}isEnd(e,t){let i=0,r=e,s=t,o=e,l=t;for(;s>=0&&this.board[r][s]==this.board[e][t];)i++,s--;for(;l<15&&this.board[o][l]==this.board[e][t];)i++,l++;if(i>=6)return!0;for(i=0,r=e,s=t,o=e,l=t;r>=0&&this.board[r][s]==this.board[e][t];)i++,r--;for(;o<15&&this.board[o][l]==this.board[e][t];)i++,o++;if(i>=6)return!0;for(i=0,r=e,s=t,o=e,l=t;r>=0&&s>=0&&this.board[r][s]==this.board[e][t];)i++,r--,s--;for(;o<15&&l<15&&this.board[o][l]==this.board[e][t];)i++,o++,l++;if(i>=6)return!0;for(i=0,r=e,s=t,o=e,l=t;r>=0&&s<15&&this.board[r][s]==this.board[e][t];)i++,r--,s++;for(;o<15&&l>=0&&this.board[o][l]==this.board[e][t];)i++,o++,l--;return i>=6}}const p=new _t,Ye=new dt;function gt(n){let e,t,i,r;return{c(){e=y("td"),O(e,"class",t="go-place "+({1:"black",2:"white"}[n[1].toString()]||"")+" "+(n[0]?"mark":"")+" svelte-1wihtxs")},m(s,o){K(s,e,o),i||(r=re(e,"click",n[2]),i=!0)},p(s,[o]){o&3&&t!==(t="go-place "+({1:"black",2:"white"}[s[1].toString()]||"")+" "+(s[0]?"mark":"")+" svelte-1wihtxs")&&O(e,"class",t)},i:k,o:k,d(s){s&&C(e),i=!1,r()}}}function mt(n,e,t){let{r:i}=e,{c:r}=e,{isMark:s=!1}=e,o=R.BLANK;const l=()=>{p.isValid(i,r)&&(t(1,o=p.currentPlayer),o===R.BLACK?L.emit(E.BLACK_GO,i,r):o===R.WHITE&&L.emit(E.WHITE_GO,i,r))},f=(d,h)=>{d===i&&h===r&&l()},c=()=>{t(1,o=R.BLANK)};return L.on(E.AIPLAY,f),L.on(E.RESTART,c),n.$$set=d=>{"r"in d&&t(3,i=d.r),"c"in d&&t(4,r=d.c),"isMark"in d&&t(0,s=d.isMark)},[s,o,l,i,r]}class At extends te{constructor(e){super(),ee(this,e,mt,gt,Z,{r:3,c:4,isMark:0})}}function be(n,{delay:e=0,duration:t=400,easing:i=Re}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:s=>`opacity: ${s*r}`}}function Ee(n){let e,t,i,r,s=n[1]===R.BLACK?"黑棋":"白棋",o,l,f,c,d,h,P,g,_,b,A,a,u,N,m;return{c(){e=y("div"),t=y("h2"),i=H("🎉恭喜"),r=y("span"),o=H(s),l=H("玩家获胜"),f=D(),c=y("div"),d=y("label"),h=y("input"),P=H(`\r
                先手`),g=D(),_=y("div"),b=D(),A=y("p"),A.textContent="抵制不良游戏，拒绝盗版游戏，注意自我保护，谨防受骗上当，适度游戏益脑，沉迷游戏伤身，合理安排时间，享受健康生活。",O(r,"class","winnertxt svelte-e29oxt"),de(r,"color",n[1]===R.BLACK?"#333":"#eee"),O(h,"type","checkbox"),O(h,"name","fh"),O(h,"id","firstHand"),h.checked=!Ye.firstHand,O(d,"for","firstHand"),O(_,"class","btn restartbtn"),O(A,"class","footer svelte-e29oxt"),O(e,"class","card svelte-e29oxt")},m(v,$){K(v,e,$),w(e,t),w(t,i),w(t,r),w(r,o),w(t,l),w(e,f),w(e,c),w(c,d),w(d,h),w(d,P),w(e,g),w(e,_),w(e,b),w(e,A),u=!0,N||(m=[re(h,"change",n[3]),re(_,"click",n[2])],N=!0)},p(v,$){(!u||$&2)&&s!==(s=v[1]===R.BLACK?"黑棋":"白棋")&&ze(o,s),(!u||$&2)&&de(r,"color",v[1]===R.BLACK?"#333":"#eee")},i(v){u||(v&&F(()=>{u&&(a||(a=Ae(e,be,{},!0)),a.run(1))}),u=!0)},o(v){v&&(a||(a=Ae(e,be,{},!1)),a.run(0)),u=!1},d(v){v&&C(e),v&&a&&a.end(),N=!1,x(m)}}}function pt(n){let e,t=n[0]&&Ee(n);return{c(){t&&t.c(),e=Fe()},m(i,r){t&&t.m(i,r),K(i,e,r)},p(i,[r]){i[0]?t?(t.p(i,r),r&1&&B(t,1)):(t=Ee(i),t.c(),B(t,1),t.m(e.parentNode,e)):t&&(ae(),T(t,1,1,()=>{t=null}),ue())},i(i){B(t)},o(i){T(t)},d(i){i&&C(e),t&&t.d(i)}}}function bt(n,e,t){let i=!1,r=R.BLANK;const s=f=>{t(0,i=!0),t(1,r=f)};return L.on(E.GAME_OVER,s),[i,r,()=>{L.emit(E.RESTART),t(0,i=!1),t(1,r=R.BLANK)},f=>{console.log(!f.target.checked),Ye.setFH(!f.target.checked)}]}class Et extends te{constructor(e){super(),ee(this,e,bt,pt,Z,{})}}function Pe(n,e,t){const i=n.slice();return i[4]=e[t],i[6]=t,i}function ve(n,e,t){const i=n.slice();return i[4]=e[t],i[8]=t,i}function we(n){let e,t;return e=new At({props:{r:n[6],c:n[8],isMark:n[0]===n[6]&&n[1]===n[8]}}),{c(){le(e.$$.fragment)},m(i,r){J(e,i,r),t=!0},p(i,r){const s={};r&3&&(s.isMark=i[0]===i[6]&&i[1]===i[8]),e.$set(s)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){T(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function Le(n){let e,t,i,r=X(Array(15)),s=[];for(let l=0;l<r.length;l+=1)s[l]=we(ve(n,r,l));const o=l=>T(s[l],1,1,()=>{s[l]=null});return{c(){e=y("tr");for(let l=0;l<s.length;l+=1)s[l].c();t=D()},m(l,f){K(l,e,f);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);w(e,t),i=!0},p(l,f){if(f&3){r=X(Array(15));let c;for(c=0;c<r.length;c+=1){const d=ve(l,r,c);s[c]?(s[c].p(d,f),B(s[c],1)):(s[c]=we(d),s[c].c(),B(s[c],1),s[c].m(e,t))}for(ae(),c=r.length;c<s.length;c+=1)o(c);ue()}},i(l){if(!i){for(let f=0;f<r.length;f+=1)B(s[f]);i=!0}},o(l){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)T(s[f]);i=!1},d(l){l&&C(e),Ne(s,l)}}}function Pt(n){let e,t,i=X(Array(15)),r=[];for(let o=0;o<i.length;o+=1)r[o]=Le(Pe(n,i,o));const s=o=>T(r[o],1,1,()=>{r[o]=null});return{c(){e=y("table");for(let o=0;o<r.length;o+=1)r[o].c();O(e,"slot","content"),O(e,"class","board svelte-5dgxc")},m(o,l){K(o,e,l);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);t=!0},p(o,l){if(l&3){i=X(Array(15));let f;for(f=0;f<i.length;f+=1){const c=Pe(o,i,f);r[f]?(r[f].p(c,l),B(r[f],1)):(r[f]=Le(c),r[f].c(),B(r[f],1),r[f].m(e,null))}for(ae(),f=i.length;f<r.length;f+=1)s(f);ue()}},i(o){if(!t){for(let l=0;l<i.length;l+=1)B(r[l]);t=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)T(r[l]);t=!1},d(o){o&&C(e),Ne(r,o)}}}function vt(n){let e,t,i,r,s;return t=new ht({props:{$$slots:{content:[Pt]},$$scope:{ctx:n}}}),r=new Et({}),{c(){e=y("div"),le(t.$$.fragment),i=D(),le(r.$$.fragment),O(e,"class","main svelte-5dgxc")},m(o,l){K(o,e,l),J(t,e,null),w(e,i),J(r,e,null),s=!0},p(o,[l]){const f={};l&515&&(f.$$scope={dirty:l,ctx:o}),t.$set(f)},i(o){s||(B(t.$$.fragment,o),B(r.$$.fragment,o),s=!0)},o(o){T(t.$$.fragment,o),T(r.$$.fragment,o),s=!1},d(o){o&&C(e),Q(t),Q(r)}}}function wt(n,e,t){let i=-1,r=-1;const s=(l,f)=>{t(0,i=l),t(1,r=f)},o=()=>{t(0,i=t(1,r=-1))};return L.on(E.WHITE_GO,s),L.on(E.BLACK_GO,s),L.on(E.RESTART,o),[i,r]}class Lt extends te{constructor(e){super(),ee(this,e,wt,vt,Z,{})}}new Lt({target:document.getElementById("app")});
