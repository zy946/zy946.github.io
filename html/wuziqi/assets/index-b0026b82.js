var Ne=Object.defineProperty;var ke=(n,e,t)=>e in n?Ne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var M=(n,e,t)=>(ke(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function k(){}const Re=n=>n;function xe(n,e){for(const t in e)n[t]=e[t];return n}function $e(n){return n()}function he(){return Object.create(null)}function x(n){n.forEach($e)}function oe(n){return typeof n=="function"}function Z(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Ke(n){return Object.keys(n).length===0}function Ie(n,e,t,i){if(n){const s=Oe(n,e,t,i);return n[0](s)}}function Oe(n,e,t,i){return n[1]&&i?xe(t.ctx.slice(),n[1](i(e))):t.ctx}function Ge(n,e,t,i){if(n[2]&&i){const s=n[2](i(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(e.dirty.length,s.length);for(let l=0;l<o;l+=1)r[l]=e.dirty[l]|s[l];return r}return e.dirty|s}return e.dirty}function He(n,e,t,i,s,r){if(s){const o=Oe(e,t,i,r);n.p(o,s)}}function Ue(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}const ye=typeof window<"u";let De=ye?()=>window.performance.now():()=>Date.now(),fe=ye?n=>requestAnimationFrame(n):k;const U=new Set;function Be(n){U.forEach(e=>{e.c(n)||(U.delete(e),e.f())}),U.size!==0&&fe(Be)}function We(n){let e;return U.size===0&&fe(Be),{promise:new Promise(t=>{U.add(e={c:n,f:t})}),abort(){U.delete(e)}}}function w(n,e){n.appendChild(e)}function Me(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function je(n){const e=O("style");return e.textContent="/* empty */",Se(Me(n),e),e.sheet}function Se(n,e){return w(n.head||n,e),e.sheet}function K(n,e,t){n.insertBefore(e,t||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function Te(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function O(n){return document.createElement(n)}function H(n){return document.createTextNode(n)}function D(){return H(" ")}function Fe(){return H("")}function se(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function y(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function qe(n){return Array.from(n.childNodes)}function ze(n,e){e=""+e,n.data!==e&&(n.data=e)}function de(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function Ve(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}const z=new Map;let V=0;function Xe(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Je(n,e){const t={stylesheet:je(e),rules:{}};return z.set(n,t),t}function _e(n,e,t,i,s,r,o,l=0){const f=16.666/i;let c=`{
`;for(let A=0;A<=1;A+=f){const a=e+(t-e)*r(A);c+=A*100+`%{${o(a,1-a)}}
`}const d=c+`100% {${o(t,1-t)}}
}`,h=`__svelte_${Xe(d)}_${l}`,P=Me(n),{stylesheet:g,rules:_}=z.get(P)||Je(P,n);_[h]||(_[h]=!0,g.insertRule(`@keyframes ${h} ${d}`,g.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${h} ${i}ms linear ${s}ms 1 both`,V+=1,h}function Qe(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=t.length-i.length;s&&(n.style.animation=i.join(", "),V-=s,V||Ze())}function Ze(){fe(()=>{V||(z.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&N(e)}),z.clear())})}let ce;function S(n){ce=n}const G=[],ge=[];let W=[];const me=[],et=Promise.resolve();let re=!1;function tt(){re||(re=!0,et.then(Ye))}function F(n){W.push(n)}const ne=new Set;let I=0;function Ye(){if(I!==0)return;const n=ce;do{try{for(;I<G.length;){const e=G[I];I++,S(e),nt(e.$$)}}catch(e){throw G.length=0,I=0,e}for(S(null),G.length=0,I=0;ge.length;)ge.pop()();for(let e=0;e<W.length;e+=1){const t=W[e];ne.has(t)||(ne.add(t),t())}W.length=0}while(G.length);for(;me.length;)me.pop()();re=!1,ne.clear(),S(n)}function nt(n){if(n.fragment!==null){n.update(),x(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(F)}}function it(n){const e=[],t=[];W.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),W=e}let j;function st(){return j||(j=Promise.resolve(),j.then(()=>{j=null})),j}function ie(n,e,t){n.dispatchEvent(Ve(`${e?"intro":"outro"}${t}`))}const q=new Set;let C;function ae(){C={r:0,c:[],p:C}}function ue(){C.r||x(C.c),C=C.p}function B(n,e){n&&n.i&&(q.delete(n),n.i(e))}function Y(n,e,t,i){if(n&&n.o){if(q.has(n))return;q.add(n),C.c.push(()=>{q.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const rt={duration:0};function Ae(n,e,t,i){let r=e(n,t,{direction:"both"}),o=i?0:1,l=null,f=null,c=null,d;function h(){c&&Qe(n,c)}function P(_,b){const A=_.b-o;return b*=Math.abs(A),{a:o,b:_.b,d:A,duration:b,start:_.start,end:_.start+b,group:_.group}}function g(_){const{delay:b=0,duration:A=300,easing:a=Re,tick:u=k,css:T}=r||rt,m={start:De()+b,b:_};_||(m.group=C,C.r+=1),"inert"in n&&(_?d!==void 0&&(n.inert=d):(d=n.inert,n.inert=!0)),l||f?f=m:(T&&(h(),c=_e(n,o,_,A,b,a,T)),_&&u(0,1),l=P(m,A),F(()=>ie(n,_,"start")),We(v=>{if(f&&v>f.start&&(l=P(f,A),f=null,ie(n,l.b,"start"),T&&(h(),c=_e(n,o,l.b,l.duration,0,a,r.css))),l){if(v>=l.end)u(o=l.b,1-o),ie(n,l.b,"end"),f||(l.b?h():--l.group.r||x(l.group.c)),l=null;else if(v>=l.start){const $=v-l.start;o=l.a+l.d*a($/l.duration),u(o,1-o)}}return!!(l||f)}))}return{run(_){oe(r)?st().then(()=>{r=r({direction:_?"in":"out"}),g(_)}):g(_)},end(){h(),l=f=null}}}function X(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function le(n){n&&n.c()}function J(n,e,t){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),F(()=>{const r=n.$$.on_mount.map($e).filter(oe);n.$$.on_destroy?n.$$.on_destroy.push(...r):x(r),n.$$.on_mount=[]}),s.forEach(F)}function Q(n,e){const t=n.$$;t.fragment!==null&&(it(t.after_update),x(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function lt(n,e){n.$$.dirty[0]===-1&&(G.push(n),tt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ee(n,e,t,i,s,r,o,l=[-1]){const f=ce;S(n);const c=n.$$={fragment:null,ctx:[],props:r,update:k,not_equal:s,bound:he(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:he(),dirty:l,skip_bound:!1,root:e.target||f.$$.root};o&&o(c.root);let d=!1;if(c.ctx=t?t(n,e.props||{},(h,P,...g)=>{const _=g.length?g[0]:P;return c.ctx&&s(c.ctx[h],c.ctx[h]=_)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](_),d&&lt(n,h)),P}):[],c.update(),d=!0,x(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const h=qe(e.target);c.fragment&&c.fragment.l(h),h.forEach(N)}else c.fragment&&c.fragment.c();e.intro&&B(n.$$.fragment),J(n,e.target,e.anchor),Ye()}S(f)}class te{constructor(){M(this,"$$");M(this,"$$set")}$destroy(){Q(this,1),this.$destroy=k}$on(e,t){if(!oe(t))return k;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Ke(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ot="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ot);var E=(n=>(n.WHITE_GO="WHITE_GO",n.BLACK_GO="BLACK_GO",n.CHANGE_PLAYER="CHANGE_PLAYER",n.GAME_OVER="GAME_OVER",n.RESTART="RESTART",n.AIPLAY="AIPLAY",n.AIGO="AIGO",n))(E||{}),R=(n=>(n[n.BLANK=0]="BLANK",n[n.BLACK=1]="BLACK",n[n.WHITE=2]="WHITE",n))(R||{});class ft{constructor(){M(this,"eventDic",new Map)}on(e,t,i){var s;this.eventDic.has(e)?(s=this.eventDic.get(e))==null||s.push({func:t,ctx:i}):this.eventDic.set(e,[{func:t,ctx:i}])}off(e,t){var i,s;if(this.eventDic.has(e)){const r=((i=this.eventDic.get(e))==null?void 0:i.findIndex(o=>t===o.func))||-1;r>-1&&((s=this.eventDic.get(e))==null||s.splice(r,1))}}emit(e,...t){var i;this.eventDic.has(e)&&((i=this.eventDic.get(e))==null||i.forEach(({func:s,ctx:r})=>{r?s.apply(r,t):s(...t)}))}clear(){this.eventDic.clear()}}const L=new ft;const ct=n=>({}),pe=n=>({});function at(n){let e,t,i,s;const r=n[1].content,o=Ie(r,n,n[0],pe);return{c(){e=O("div"),t=O("div"),t.textContent="五子棋",i=D(),o&&o.c(),y(t,"class","title svelte-33pafs"),y(e,"class","board svelte-33pafs")},m(l,f){K(l,e,f),w(e,t),w(e,i),o&&o.m(e,null),s=!0},p(l,[f]){o&&o.p&&(!s||f&1)&&He(o,r,l,l[0],s?Ge(r,l[0],f,ct):Ue(l[0]),pe)},i(l){s||(B(o,l),s=!0)},o(l){Y(o,l),s=!1},d(l){l&&N(e),o&&o.d(l)}}}function ut(n,e,t){let{$$slots:i={},$$scope:s}=e;return n.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,i]}class ht extends te{constructor(e){super(),ee(this,e,ut,at,Z,{})}}class dt{constructor(e=3){M(this,"dirs",[[0,1],[1,0],[1,-1],[1,1]]);M(this,"deep",3);M(this,"PLAYER_TYPE",{BLANK:0,HUMAN:1,COMPUTER:2});M(this,"firstHand",!1);this.PLAYER_TYPE.BLANK,this.deep=e,L.on(E.CHANGE_PLAYER,this.go,this),L.on(E.RESTART,this.restart,this)}restart(){this.firstHand&&(p.currentPlayer=R.BLACK,setTimeout(()=>{L.emit(E.AIPLAY,7,7)},2e3))}setFH(e){this.firstHand=e,e?this.PLAYER_TYPE={BLANK:0,HUMAN:2,COMPUTER:1}:this.PLAYER_TYPE={BLANK:0,HUMAN:1,COMPUTER:2}}isInBoard(e){return e[0]>=0&&e[0]<15&&e[1]>=0&&e[1]<15}newPoint(e,t,i){return[e[0]+t[0]*i,e[1]+t[1]*i]}valuate(e,t){let i=0,s=0,r=0,o=0,l=0,f=0,c=0,d=0,h=0,P=0;const g=3-t;for(let _=0;_<4;_++){const b=this.dirs[_];let A=1,a=new Array(5),u=new Array(5),T=e,m=this.newPoint(e,b,-1);for(;this.isInBoard(m)&&p.board[m[0]][m[1]]==t;)T=m,m=this.newPoint(m,b,-1),A++;let v=e;for(m=this.newPoint(e,b,1);this.isInBoard(m)&&p.board[m[0]][m[1]]==t;)v=m,m=this.newPoint(m,b,1),A++;for(let $=0;$<5;$++)m=this.newPoint(T,b,-$),this.isInBoard(m)?a[$]=p.board[m[0]][m[1]]:a[$]=g,m=this.newPoint(v,b,$),this.isInBoard(m)?u[$]=p.board[m[0]][m[1]]:u[$]=g;A>=5?i++:A==4?a[1]==0&&u[1]==0?s++:(a[1]==0||u[1]==0)&&r++:A==3?a[1]==0&&u[1]==0?a[2]==g&&u[2]==g?f++:a[2]==t||u[2]==t?o++:(a[2]==0||u[2]==0)&&l++:(a[1]==0||u[1]==0)&&(a[1]==g&&(u[2]==g,u[2]==0&&f++,u[2]==t&&o++),u[1]==g&&(a[2]==g,a[2]==0&&f++,a[2]==t&&o++)):A==2?a[1]==0&&u[1]==0?u[2]==0&&u[3]==t||a[2]==0&&a[3]==t?f++:a[2]==0&&u[2]==0?d++:u[2]==t&&u[3]==g||a[2]==t&&a[3]==g?f++:u[2]==t&&u[3]==t||a[2]==t&&a[3]==t?o++:(u[2]==t&&u[3]==0||a[2]==t&&a[3]==0)&&c++:(a[1]==0||u[1]==0)&&(a[1]==g&&(u[2]==g||u[3]==g||(u[2]==0&&u[3]==0?P++:u[2]==t&&u[3]==t?o++:(u[2]==t||u[3]==t)&&f++)),u[1]==g&&(a[2]==g||a[3]==g||(a[2]==0&&a[3]==0?P++:a[2]==t&&a[3]==t?o++:(a[2]==t||a[3]==t)&&f++))):A==1&&(a[1]==0&&a[2]==t&&a[3]==t&&a[4]==t||u[1]==0&&u[2]==t&&u[3]==t&&u[4]==t?o++:a[1]==0&&a[2]==t&&a[3]==t&&a[4]==0&&u[1]==0||u[1]==0&&u[2]==t&&u[3]==t&&u[4]==0&&a[1]==0?c++:a[1]==0&&a[2]==t&&a[3]==t&&a[4]==g&&u[1]==0||u[1]==0&&u[2]==t&&u[3]==t&&u[4]==g&&a[1]==0||a[1]==0&&a[2]==0&&a[3]==t&&a[4]==t||u[1]==0&&u[2]==0&&u[3]==t&&u[4]==t||a[1]==0&&a[2]==t&&a[3]==0&&a[4]==t||u[1]==0&&u[2]==t&&u[3]==0&&u[4]==t?f++:(a[1]==0&&a[2]==t&&a[3]==0&&a[4]==0&&u[1]==0||u[1]==0&&u[2]==t&&u[3]==0&&u[4]==0&&a[1]==0||a[1]==0&&a[2]==0&&a[3]==t&&a[4]==0&&u[1]==0||u[1]==0&&u[2]==0&&u[3]==t&&u[4]==0&&a[1]==0)&&h++)}return i>=1?1e5:s>=1?2e4:l>=2?1e4:r>=1&&l>=1||r>=2?5e3:f>=1&&l>=1?1e3:r>=1?500:o>=1?400:l>=1?100:c>=1?90:d>=2?50:d>=1?10:h>=1?9:f>=1?5:P>=1?2:1}gen(){let e=[],t=[],i=0,s=0;for(let r=0;r<5;r++)t[r]=new Array;for(let r=0;r<15;r++)for(let o=0;o<15;o++)if(p.board[r][o]==this.PLAYER_TYPE.BLANK){for(let l=0;l<5;l++)for(let f=0;f<5;f++)if(!(r-2+f<0||o-2+l<0||r-2+f>=15||o-2+l>=15)&&p.board[r-2+f][o-2+l]!=this.PLAYER_TYPE.BLANK){l=5;const c=[r,o];i=this.valuate(c,this.PLAYER_TYPE.HUMAN),s=this.valuate(c,this.PLAYER_TYPE.COMPUTER),i==1e5||s==1e5?t[0].push(c):i==2e4||s==2e4?t[1].push(c):i==1e4||s==1e4?t[2].push(c):p.N>=10&&(i>=400||s>=500)?t[3].push(c):p.N>=10&&(i>=50||s>=90)?t[4].push(c):e.push(c);break}}return t[0].length!=0?t[0]:t[1].length!=0?t[1]:t[2].length!=0?t[2]:p.N>=10?t[3].concat(t[4].concat(e)):e}min(e,t,i,s){if(e<=0)return t;let r=1e6,o=this.gen();for(;o.length!=0;){const l=o.shift();p.board[l[0]][l[1]]=this.PLAYER_TYPE.HUMAN,t=t-this.valuate(l,this.PLAYER_TYPE.HUMAN);let f=this.max(e-1,t,r<i?r:i,s);if(p.board[l[0]][l[1]]=this.PLAYER_TYPE.BLANK,f<r&&(r=f),f<s)break}return r}max(e,t,i,s){if(e<=0)return t;let r=-1e6,o=this.gen();for(;o.length!=0;){const l=o.shift();p.board[l[0]][l[1]]=this.PLAYER_TYPE.COMPUTER,t=t+this.valuate(l,this.PLAYER_TYPE.COMPUTER);let f=this.min(e-1,t,i,r>s?r:s);if(p.board[l[0]][l[1]]=0,f>r&&(r=f),f>i)break}return r}minimax(e){return new Promise((t,i)=>{let s=-1e6,r=1e6,o=-1e6,l=this.gen(),f=[],c;for(;l.length!=0;){if(c=l.shift(),p.board[c[0]][c[1]]=this.PLAYER_TYPE.COMPUTER,p.isEnd(c[0],c[1])){p.board[c[0]][c[1]]=this.PLAYER_TYPE.BLANK,t(c);return}if(p.board[c[0]][c[1]]=this.PLAYER_TYPE.HUMAN,p.isEnd(c[0],c[1])){p.board[c[0]][c[1]]=this.PLAYER_TYPE.BLANK,t(c);return}p.board[c[0]][c[1]]=this.PLAYER_TYPE.COMPUTER;let h=this.valuate(c,this.PLAYER_TYPE.COMPUTER),P=this.min(e-1,h,r,o);P>s&&(s=P,f=[],f.push(c)),P==s&&f.push(c),p.board[c[0]][c[1]]=this.PLAYER_TYPE.BLANK}const d=Math.floor(Math.random()*f.length);t(f[d])})}async go(e){if(console.log(e,this.PLAYER_TYPE.COMPUTER),e!==this.PLAYER_TYPE.COMPUTER)return;const[t,i]=await this.minimax(this.deep);L.emit(E.AIPLAY,t,i)}}class _t{constructor(){M(this,"board",[]);M(this,"N",0);M(this,"isOver",!1);M(this,"currentPlayer",1);this.init(),L.on(E.WHITE_GO,this.playWhiteChess,this),L.on(E.BLACK_GO,this.playBlackChess,this),L.on(E.RESTART,this.init,this)}init(){this.board=[];for(let e=0;e<15;e++){this.board.push([]);for(let t=0;t<15;t++)this.board[e].push(0)}this.currentPlayer=1,this.isOver=!1}isValid(e,t){return!this.isOver&&e<15&&e>=0&&t<15&&t>=0&&this.board[e][t]===R.BLANK}playWhiteChess(e,t){if(this.board[e][t]=R.WHITE,this.isOver=this.isEnd(e,t),this.isOver){L.emit(E.GAME_OVER,R.WHITE);return}this.changePlayer()}playBlackChess(e,t){if(this.board[e][t]=R.BLACK,this.isOver=this.isEnd(e,t),this.isOver){L.emit(E.GAME_OVER,R.BLACK);return}this.changePlayer()}changePlayer(){this.N++,this.currentPlayer=3-this.currentPlayer,L.emit(E.CHANGE_PLAYER,this.currentPlayer)}isEnd(e,t){let i=0,s=e,r=t,o=e,l=t;for(;r>=0&&this.board[s][r]==this.board[e][t];)i++,r--;for(;l<15&&this.board[o][l]==this.board[e][t];)i++,l++;if(i>=6)return!0;for(i=0,s=e,r=t,o=e,l=t;s>=0&&this.board[s][r]==this.board[e][t];)i++,s--;for(;o<15&&this.board[o][l]==this.board[e][t];)i++,o++;if(i>=6)return!0;for(i=0,s=e,r=t,o=e,l=t;s>=0&&r>=0&&this.board[s][r]==this.board[e][t];)i++,s--,r--;for(;o<15&&l<15&&this.board[o][l]==this.board[e][t];)i++,o++,l++;if(i>=6)return!0;for(i=0,s=e,r=t,o=e,l=t;s>=0&&r<15&&this.board[s][r]==this.board[e][t];)i++,s--,r++;for(;o<15&&l>=0&&this.board[o][l]==this.board[e][t];)i++,o++,l--;return i>=6}}const p=new _t,Ce=new dt;function gt(n){let e,t,i,s;return{c(){e=O("td"),y(e,"class",t="go-place "+({1:"black",2:"white"}[n[1].toString()]||"")+" "+(n[0]?"mark":"")+" svelte-1wihtxs")},m(r,o){K(r,e,o),i||(s=se(e,"click",n[2]),i=!0)},p(r,[o]){o&3&&t!==(t="go-place "+({1:"black",2:"white"}[r[1].toString()]||"")+" "+(r[0]?"mark":"")+" svelte-1wihtxs")&&y(e,"class",t)},i:k,o:k,d(r){r&&N(e),i=!1,s()}}}function mt(n,e,t){let{r:i}=e,{c:s}=e,{isMark:r=!1}=e,o=R.BLANK;const l=()=>{p.isValid(i,s)&&(t(1,o=p.currentPlayer),o===R.BLACK?L.emit(E.BLACK_GO,i,s):o===R.WHITE&&L.emit(E.WHITE_GO,i,s))},f=(d,h)=>{d===i&&h===s&&l()},c=()=>{t(1,o=R.BLANK)};return L.on(E.AIPLAY,f),L.on(E.RESTART,c),n.$$set=d=>{"r"in d&&t(3,i=d.r),"c"in d&&t(4,s=d.c),"isMark"in d&&t(0,r=d.isMark)},[r,o,l,i,s]}class At extends te{constructor(e){super(),ee(this,e,mt,gt,Z,{r:3,c:4,isMark:0})}}function be(n,{delay:e=0,duration:t=400,easing:i=Re}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:r=>`opacity: ${r*s}`}}function Ee(n){let e,t,i,s,r=n[1]===R.BLACK?"黑棋":"白棋",o,l,f,c,d,h,P,g,_,b,A,a,u,T,m;return{c(){e=O("div"),t=O("h2"),i=H("🎉恭喜"),s=O("span"),o=H(r),l=H("玩家获胜"),f=D(),c=O("div"),d=O("label"),h=O("input"),P=H(`\r
                先手`),g=D(),_=O("div"),b=D(),A=O("p"),A.textContent="抵制不良游戏，拒绝盗版游戏，注意自我保护，谨防受骗上当，适度游戏益脑，沉迷游戏伤身，合理安排时间，享受健康生活。",y(s,"class","winnertxt svelte-e29oxt"),de(s,"color",n[1]===R.BLACK?"#333":"#eee"),y(h,"type","checkbox"),y(h,"name","fh"),y(h,"id","firstHand"),h.checked=!Ce.firstHand,y(d,"for","firstHand"),y(_,"class","btn restartbtn"),y(A,"class","footer svelte-e29oxt"),y(e,"class","card svelte-e29oxt")},m(v,$){K(v,e,$),w(e,t),w(t,i),w(t,s),w(s,o),w(t,l),w(e,f),w(e,c),w(c,d),w(d,h),w(d,P),w(e,g),w(e,_),w(e,b),w(e,A),u=!0,T||(m=[se(h,"change",n[3]),se(_,"click",n[2])],T=!0)},p(v,$){(!u||$&2)&&r!==(r=v[1]===R.BLACK?"黑棋":"白棋")&&ze(o,r),(!u||$&2)&&de(s,"color",v[1]===R.BLACK?"#333":"#eee")},i(v){u||(v&&F(()=>{u&&(a||(a=Ae(e,be,{},!0)),a.run(1))}),u=!0)},o(v){v&&(a||(a=Ae(e,be,{},!1)),a.run(0)),u=!1},d(v){v&&N(e),v&&a&&a.end(),T=!1,x(m)}}}function pt(n){let e,t=n[0]&&Ee(n);return{c(){t&&t.c(),e=Fe()},m(i,s){t&&t.m(i,s),K(i,e,s)},p(i,[s]){i[0]?t?(t.p(i,s),s&1&&B(t,1)):(t=Ee(i),t.c(),B(t,1),t.m(e.parentNode,e)):t&&(ae(),Y(t,1,1,()=>{t=null}),ue())},i(i){B(t)},o(i){Y(t)},d(i){i&&N(e),t&&t.d(i)}}}function bt(n,e,t){let i=!1,s=R.BLANK;const r=f=>{t(0,i=!0),t(1,s=f)};return L.on(E.GAME_OVER,r),[i,s,()=>{L.emit(E.RESTART),t(0,i=!1),t(1,s=R.BLANK)},f=>{console.log(!f.target.checked),Ce.setFH(!f.target.checked)}]}class Et extends te{constructor(e){super(),ee(this,e,bt,pt,Z,{})}}function Pe(n,e,t){const i=n.slice();return i[4]=e[t],i[6]=t,i}function ve(n,e,t){const i=n.slice();return i[4]=e[t],i[8]=t,i}function we(n){let e,t;return e=new At({props:{r:n[6],c:n[8],isMark:n[0]===n[6]&&n[1]===n[8]}}),{c(){le(e.$$.fragment)},m(i,s){J(e,i,s),t=!0},p(i,s){const r={};s&3&&(r.isMark=i[0]===i[6]&&i[1]===i[8]),e.$set(r)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){Y(e.$$.fragment,i),t=!1},d(i){Q(e,i)}}}function Le(n){let e,t,i,s=X(Array(15)),r=[];for(let l=0;l<s.length;l+=1)r[l]=we(ve(n,s,l));const o=l=>Y(r[l],1,1,()=>{r[l]=null});return{c(){e=O("tr");for(let l=0;l<r.length;l+=1)r[l].c();t=D()},m(l,f){K(l,e,f);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);w(e,t),i=!0},p(l,f){if(f&3){s=X(Array(15));let c;for(c=0;c<s.length;c+=1){const d=ve(l,s,c);r[c]?(r[c].p(d,f),B(r[c],1)):(r[c]=we(d),r[c].c(),B(r[c],1),r[c].m(e,t))}for(ae(),c=s.length;c<r.length;c+=1)o(c);ue()}},i(l){if(!i){for(let f=0;f<s.length;f+=1)B(r[f]);i=!0}},o(l){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)Y(r[f]);i=!1},d(l){l&&N(e),Te(r,l)}}}function Pt(n){let e,t,i=X(Array(15)),s=[];for(let o=0;o<i.length;o+=1)s[o]=Le(Pe(n,i,o));const r=o=>Y(s[o],1,1,()=>{s[o]=null});return{c(){e=O("table");for(let o=0;o<s.length;o+=1)s[o].c();y(e,"slot","content"),y(e,"class","board svelte-5dgxc")},m(o,l){K(o,e,l);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);t=!0},p(o,l){if(l&3){i=X(Array(15));let f;for(f=0;f<i.length;f+=1){const c=Pe(o,i,f);s[f]?(s[f].p(c,l),B(s[f],1)):(s[f]=Le(c),s[f].c(),B(s[f],1),s[f].m(e,null))}for(ae(),f=i.length;f<s.length;f+=1)r(f);ue()}},i(o){if(!t){for(let l=0;l<i.length;l+=1)B(s[l]);t=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)Y(s[l]);t=!1},d(o){o&&N(e),Te(s,o)}}}function vt(n){let e,t,i,s,r;return t=new ht({props:{$$slots:{content:[Pt]},$$scope:{ctx:n}}}),s=new Et({}),{c(){e=O("div"),le(t.$$.fragment),i=D(),le(s.$$.fragment),y(e,"class","main svelte-5dgxc")},m(o,l){K(o,e,l),J(t,e,null),w(e,i),J(s,e,null),r=!0},p(o,[l]){const f={};l&515&&(f.$$scope={dirty:l,ctx:o}),t.$set(f)},i(o){r||(B(t.$$.fragment,o),B(s.$$.fragment,o),r=!0)},o(o){Y(t.$$.fragment,o),Y(s.$$.fragment,o),r=!1},d(o){o&&N(e),Q(t),Q(s)}}}function wt(n,e,t){let i=-1,s=-1;const r=(l,f)=>{t(0,i=l),t(1,s=f)},o=()=>{t(0,i=t(1,s=-1))};return L.on(E.WHITE_GO,r),L.on(E.BLACK_GO,r),L.on(E.RESTART,o),[i,s]}class Lt extends te{constructor(e){super(),ee(this,e,wt,vt,Z,{})}}new Lt({target:document.getElementById("app")});
